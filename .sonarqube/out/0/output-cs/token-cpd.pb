∂C
]C:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Controllers\CargaController.cs
	namespace 	
Armazenagem3L_API
 
. 
Controllers '
{( )
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
CargaController  
:! "
ControllerBase# 1
{2 3
private 
readonly 
ILoggerManager '
_logger( /
;/ 0
private 
readonly 
CargaService %
_service& .
;. /
public 
CargaController 
( 
ILoggerManager -
logger. 4
,4 5
CargaService6 B
serviceC J
)J K
{L M
_logger 
= 
logger 
; 
_service 
= 
service 
; 
} 	
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
IActionResult 
Get  
(  !
int! $
id% '
=( )
$num* +
,+ ,
int- 0
	motorista1 :
=; <
$num= >
)> ?
{ 	
_logger 
. 
LogDebug 
( 
$str X
+Y Z
JsonSerializer[ i
.i j
	Serializej s
(s t
idt v
)v w
)w x
;x y
CustomResponse!! 
result!! !
=!!" #
new!!$ '
CustomResponse!!( 6
(!!6 7
)!!7 8
;!!8 9
if## 
(## 
id## 
==## 
$num## 
&&## 
	motorista## $
==##% '
$num##( )
)##) *
{$$ 
result%% 
=%% 
_service%% !
.%%! "
listagemCargas%%" 0
(%%0 1
)%%1 2
;%%2 3
}&& 
if'' 
('' 
id'' 
>'' 
$num'' 
&&'' 
	motorista'' #
==''$ &
$num''' (
)''( )
{(( 
result)) 
=)) 
_service)) !
.))! "
	cargaById))" +
())+ ,
id)), .
))). /
;))/ 0
}** 
if++ 
(++ 
id++ 
==++ 
$num++ 
&&++ 
	motorista++ $
>++% &
$num++' (
)++( )
{,, 
result-- 
=-- 
_service-- !
.--! "
cargaByMotoristaId--" 4
(--4 5
	motorista--5 >
)--> ?
;--? @
}.. 
else// 
if// 
(// 
id// 
>// 
$num// 
&&// 
	motorista// (
>//) *
$num//+ ,
)//, -
{00 
result11 
=11 
_service11 !
.11! "#
cargaByIdAndMotoristaId11" 9
(119 :
id11: <
,11< =
	motorista11> G
)11G H
;11H I
}22 
return33 

StatusCode33 
(33 
(33 
int33 "
)33" #
result33# )
.33) *

StatusCode33* 4
,334 5
result336 <
.33< =
Retorno33= D
)33D E
;33E F
}44 	
[77 	
HttpPost77	 
]77 
public88 
IActionResult88 
Post88 !
(88! "
[88" #
FromBody88# +
]88+ ,
Carga88- 2
value883 8
)888 9
{88: ;
_logger99 
.99 
LogDebug99 
(99 
$str99 V
+99W X
JsonSerializer99Y g
.99g h
	Serialize99h q
(99q r
value99r w
)99w x
)99x y
;99y z
CustomResponse:: 
response:: #
=::$ %
_service::& .
.::. /
Add::/ 2
(::2 3
value::3 8
)::8 9
;::9 :
return<< 

StatusCode<< 
(<< 
(<< 
int<< "
)<<" #
response<<# +
.<<+ ,

StatusCode<<, 6
,<<6 7
response<<8 @
.<<@ A
Mensagem<<A I
)<<I J
;<<J K
}== 	
[@@ 	
HttpPost@@	 
(@@ 
$str@@  
)@@  !
]@@! "
publicAA 
IActionResultAA 
AceitarCargaAA )
(AA) *
[AA* +
FromBodyAA+ 3
]AA3 4
MotoristaCargaAA5 C
valueAAD I
)AAI J
{AAK L
_loggerBB 
.BB 
LogDebugBB 
(BB 
$strBB ]
+BB^ _
JsonSerializerBB` n
.BBn o
	SerializeBBo x
(BBx y
valueBBy ~
)BB~ 
)	BB Ä
;
BBÄ Å
CustomResponseCC 
responseCC #
=CC$ %
_serviceCC& .
.CC. /
AceitarCargaCC/ ;
(CC; <
valueCC< A
)CCA B
;CCB C
returnEE 

StatusCodeEE 
(EE 
(EE 
intEE "
)EE" #
responseEE# +
.EE+ ,

StatusCodeEE, 6
,EE6 7
responseEE8 @
.EE@ A
MensagemEEA I
)EEI J
;EEJ K
}FF 	
[II 	
HttpPostII	 
(II 
$strII  
)II  !
]II! "
publicJJ 
IActionResultJJ 
RecusarCargaJJ )
(JJ) *
[JJ* +
FromBodyJJ+ 3
]JJ3 4
MotoristaCargaJJ5 C
valueJJD I
)JJI J
{JJK L
_loggerKK 
.KK 
LogDebugKK 
(KK 
$strKK ]
+KK^ _
JsonSerializerKK` n
.KKn o
	SerializeKKo x
(KKx y
valueKKy ~
)KK~ 
)	KK Ä
;
KKÄ Å
CustomResponseLL 
responseLL #
=LL$ %
_serviceLL& .
.LL. /
RecusarCargaLL/ ;
(LL; <
valueLL< A
)LLA B
;LLB C
returnNN 

StatusCodeNN 
(NN 
(NN 
intNN "
)NN" #
responseNN# +
.NN+ ,

StatusCodeNN, 6
,NN6 7
responseNN8 @
.NN@ A
MensagemNNA I
)NNI J
;NNJ K
}OO 	
[RR 	
HttpGetRR	 
(RR 
$strRR !
)RR! "
]RR" #
publicSS 
IActionResultSS 
GetRecusadasSS )
(SS) *
intSS* -
idSS. 0
)SS0 1
{SS2 3
_loggerTT 
.TT 
LogDebugTT 
(TT 
$strTT X
+TTY Z
JsonSerializerTT[ i
.TTi j
	SerializeTTj s
(TTs t
idTTt v
)TTv w
)TTw x
;TTx y
CustomResponseUU 
resultUU !
=UU" #
_serviceUU$ ,
.UU, -
cargasRecusadasUU- <
(UU< =
idUU= ?
)UU? @
;UU@ A
returnVV 

StatusCodeVV 
(VV 
(VV 
intVV "
)VV" #
resultVV# )
.VV) *

StatusCodeVV* 4
,VV4 5
resultVV6 <
.VV< =
RetornoVV= D
)VVD E
;VVE F
}WW 	
[ZZ 	

HttpDeleteZZ	 
(ZZ 
$strZZ 
)ZZ 
]ZZ 
public[[ 
IActionResult[[ 
Delete[[ #
([[# $
int[[$ '
id[[( *
)[[* +
{\\ 	
_logger]] 
.]] 
LogDebug]] 
(]] 
$str]] [
+]]\ ]
JsonSerializer]]^ l
.]]l m
	Serialize]]m v
(]]v w
id]]w y
)]]y z
)]]z {
;]]{ |
CustomResponse^^ 
response^^ #
=^^$ %
_service^^& .
.^^. /
DeletarCarga^^/ ;
(^^; <
id^^< >
)^^> ?
;^^? @
return__ 

StatusCode__ 
(__ 
(__ 
int__ "
)__" #
response__# +
.__+ ,

StatusCode__, 6
,__6 7
response__8 @
.__@ A
Mensagem__A I
)__I J
;__J K
}`` 	
}aa 
}bb ∏'
aC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Controllers\MotoristaController.cs
	namespace 	
Armazenagem3L_API
 
. 
Controllers '
{( )
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
MotoristaController $
:% &
ControllerBase' 5
{6 7
private 
readonly 
ILoggerManager '
_logger( /
;/ 0
private 
readonly 
MotoristaService )
_service* 2
;2 3
public 
MotoristaController "
(" #
ILoggerManager# 1
logger2 8
,8 9
MotoristaService: J
serviceK R
)R S
{T U
_logger 
= 
logger 
; 
_service 
= 
service 
; 
} 	
[ 	
HttpPost	 
] 
public 
IActionResult 
Post !
(! "
[" #
FromBody# +
]+ ,
	Motorista- 6
value7 <
)< =
{> ?
_logger 
. 
LogDebug 
( 
$str Z
+[ \
JsonSerializer] k
.k l
	Serializel u
(u v
valuev {
){ |
)| }
;} ~
CustomResponse 
response #
=$ %
_service& .
.. /
Add/ 2
(2 3
value3 8
)8 9
;9 :
return!! 

StatusCode!! 
(!! 
(!! 
int!! "
)!!" #
response!!# +
.!!+ ,

StatusCode!!, 6
,!!6 7
response!!8 @
.!!@ A
Retorno!!A H
)!!H I
;!!I J
}"" 	
[%% 	
HttpGet%%	 
(%% 
$str%% 
)%% 
]%% 
public&& 
IActionResult&& 
Get&&  
(&&  !
int&&! $
id&&% '
)&&' (
{&&) *
_logger'' 
.'' 
LogDebug'' 
('' 
$str'' O
+''P Q
JsonSerializer''R `
.''` a
	Serialize''a j
(''j k
id''k m
)''m n
)''n o
;''o p
CustomResponse(( 
result(( !
=((" #
_service(($ ,
.((, -
FindById((- 5
(((5 6
id((6 8
)((8 9
;((9 :
return)) 

StatusCode)) 
()) 
()) 
int)) "
)))" #
result))# )
.))) *

StatusCode))* 4
,))4 5
result))6 <
.))< =
Retorno))= D
)))D E
;))E F
}** 	
[-- 	
HttpPost--	 
(-- 
$str-- 
)-- 
]-- 
public.. 
IActionResult.. 
Login.. "
(.." #
[..# $
FromBody..$ ,
].., -
DadosMotorista... <
value..= B
)..B C
{..D E
_logger// 
.// 
LogDebug// 
(// 
$str// Q
+//R S
JsonSerializer//T b
.//b c
	Serialize//c l
(//l m
value//m r
)//r s
)//s t
;//t u
CustomResponse00 
result00 !
=00" #
_service00$ ,
.00, -
login00- 2
(002 3
value003 8
)008 9
;009 :
return11 

StatusCode11 
(11 
(11 
int11 "
)11" #
result11# )
.11) *

StatusCode11* 4
,114 5
result116 <
.11< =
Retorno11= D
)11D E
;11E F
}22 	
[55 	
HttpPut55	 
]55 
public66 
IActionResult66 
Put66  
(66  !
[66! "
FromBody66" *
]66* +
DadosMotorista66, :
value66; @
)66@ A
{66B C
_logger77 
.77 
LogDebug77 
(77 
$str77 Y
+77Z [
JsonSerializer77\ j
.77j k
	Serialize77k t
(77t u
value77u z
)77z {
)77{ |
;77| }
CustomResponse88 
response88 #
=88$ %
_service88& .
.88. /
RecuperarSenha88/ =
(88= >
value88> C
)88C D
;88D E
return:: 

StatusCode:: 
(:: 
(:: 
int:: "
)::" #
response::# +
.::+ ,

StatusCode::, 6
,::6 7
response::8 @
.::@ A
Retorno::A H
)::H I
;::I J
};; 	
}>> 
}?? π"
`C:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Controllers\ProdutosController.cs
	namespace 	
Armazenagem3L_API
 
. 
Controllers '
{( )
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
ProdutosController #
:$ %
ControllerBase& 4
{5 6
private 
readonly 
ProdutosService (
_service) 1
;1 2
private 
readonly 
ILoggerManager '
_logger( /
;/ 0
public 
ProdutosController !
(! "
ProdutosService" 1
service2 9
,9 :
ILoggerManager; I
loggerJ P
)P Q
{R S
_service 
= 
service 
; 
_logger 
= 
logger 
; 
} 	
[   	
HttpGet  	 
(   
$str   
)   
]   
public!! 
IActionResult!! 
Get!!  
(!!  !
int!!! $
id!!% '
=!!( )
$num!!* +
)!!+ ,
{!!- .
_logger"" 
."" 
LogDebug"" 
("" 
$str"" Z
+""[ \
JsonSerializer""] k
.""k l
	Serialize""l u
(""u v
id""v x
)""x y
)""y z
;""z {
CustomResponse$$ 
response$$ #
;$$# $
if&& 
(&& 
id&& 
==&& 
$num&& 
)&& 
{&& 
response'' 
='' 
_service'' #
.''# $
listagemProdutos''$ 4
(''4 5
)''5 6
;''6 7
}(( 
else(( 
{(( 
response)) 
=)) 
_service)) #
.))# $
produtosById))$ 0
())0 1
id))1 3
)))3 4
;))4 5
}** 
return,, 

StatusCode,, 
(,, 
(,, 
int,, "
),," #
response,,# +
.,,+ ,

StatusCode,,, 6
,,,6 7
response,,8 @
.,,@ A
Retorno,,A H
),,H I
;,,I J
}-- 	
[00 	
HttpPost00	 
]00 
public11 
IActionResult11 
Post11 !
(11! "
[11" #
FromBody11# +
]11+ ,
Produto11- 4
produto115 <
)11< =
{11> ?
_logger22
 
.22 
LogDebug22 
(22 
$str22 V
+22W X
JsonSerializer22Y g
.22g h
	Serialize22h q
(22q r
produto22r y
)22y z
)22z {
;22{ |
CustomResponse33
 
response33 !
=33" #
_service33$ ,
.33, -
Add33- 0
(330 1
produto331 8
)338 9
;339 :
return44
 

StatusCode44 
(44 
(44 
int44  
)44  !
response44! )
.44) *

StatusCode44* 4
,444 5
response446 >
.44> ?
Mensagem44? G
)44G H
;44H I
}55 	
[88 	

HttpDelete88	 
(88 
$str88 
)88 
]88 
public99 
IActionResult99 
Delete99 #
(99# $
int99$ '
id99( *
)99* +
{99, -
_logger:: 
.:: 
LogDebug:: 
(:: 
$str:: ]
+::^ _
JsonSerializer::` n
.::n o
	Serialize::o x
(::x y
id::y {
)::{ |
)::| }
;::} ~
CustomResponse;; 
response;; #
=;;$ %
_service;;& .
.;;. /
DeletarProduto;;/ =
(;;= >
id;;> @
);;@ A
;;;A B
return<< 

StatusCode<< 
(<< 
(<< 
int<< "
)<<" #
response<<# +
.<<+ ,

StatusCode<<, 6
,<<6 7
response<<8 @
.<<@ A
Mensagem<<A I
)<<I J
;<<J K
}== 	
}>> 
}?? “-
RC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Data\DataContext.cs
	namespace 	
Armazenagem3L_API
 
. 
Data  
{! "
public		 

class		 
DataContext		 
:		 
	DbContext		 (
{		) *
public

 
DataContext

 
(

 
DbContextOptions

 +
<

+ ,
DataContext

, 7
>

7 8
options

9 @
)

@ A
:

B C
base

D H
(

H I
options

I P
)

P Q
{

R S
}

T U
public 
DbSet 
< 
Carga 
> 
Cargas "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DbSet 
< 
Funcionario  
>  !
Funcionarios" .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
public 
DbSet 
< 
	Motorista 
> 
	Motorista  )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
DbSet 
< 
Produto 
> 
Produto %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DbSet 
< 
CargaProduto !
>! "
CargaProdutos# 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
public 
DbSet 
< 
CargasRecusada #
># $
CargasRecusadas% 4
{5 6
get7 :
;: ;
set< ?
;? @
}A B
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{K L
modelBuilder 
. 
Entity 
<  
CargaProduto  ,
>, -
(- .
). /
./ 0
HasKey0 6
(6 7
AD7 9
=>: <
new= @
{A B
ADC E
.E F
CargaIdF M
,M N
ADO Q
.Q R
	ProdutoIdR [
}\ ]
)] ^
;^ _
modelBuilder 
. 
Entity 
<  
CargasRecusada  .
>. /
(/ 0
)0 1
.1 2
HasKey2 8
(8 9
AD9 ;
=>< >
new? B
{C D
ADE G
.G H
CargaIdH O
,O P
ADQ S
.S T
MotoristaIdT _
}` a
)a b
;b c
modelBuilder 
. 
Entity 
<  
Funcionario  +
>+ ,
(, -
)- .
. 
HasData 
( 
new  
List! %
<% &
Funcionario& 1
>1 2
(2 3
)3 4
{4 5
new 
Funcionario #
(# $
$num$ %
,% &
$str' .
). /
,/ 0
} 
) 
; 
modelBuilder 
. 
Entity 
<  
	Motorista  )
>) *
(* +
)+ ,
. 
HasData 
( 
new  
List! %
<% &
	Motorista& /
>/ 0
(0 1
)1 2
{2 3
new 
	Motorista !
(! "
$num" #
,# $
$str% +
,+ ,
$str- 3
,3 4
$str5 B
,B C
$strD [
)[ \
,\ ]
}   
)   
;   
modelBuilder"" 
."" 
Entity"" 
<""  
Produto""  '
>""' (
(""( )
)"") *
.## 
HasData## 
(## 
new##  
List##! %
<##% &
Produto##& -
>##- .
(##. /
)##/ 0
{##0 1
new$$ 
Produto$$ 
($$  
$num$$  !
,$$! "
$str$$# 2
,$$2 3
$num$$4 5
,$$5 6
$num$$7 8
,$$8 9
$num$$: =
)$$= >
,$$> ?
new%% 
Produto%% 
(%%  
$num%%  !
,%%! "
$str%%# *
,%%* +
$num%%, -
,%%- .
$num%%/ 0
,%%0 1
$num%%2 5
)%%5 6
,%%6 7
new&& 
Produto&& 
(&&  
$num&&  !
,&&! "
$str&&# ,
,&&, -
$num&&. /
,&&/ 0
$num&&1 2
,&&2 3
$num&&4 7
)&&7 8
,&&8 9
new'' 
Produto'' 
(''  
$num''  !
,''! "
$str''# ,
,'', -
$num''. /
,''/ 0
$num''1 2
,''2 3
$num''4 7
)''7 8
,''8 9
new(( 
Produto(( 
(((  
$num((  !
,((! "
$str((# 0
,((0 1
$num((2 3
,((3 4
$num((5 6
,((6 7
$num((8 ;
)((; <
,((< =
new)) 
Produto)) 
())  
$num))  !
,))! "
$str))# .
,)). /
$num))0 1
,))1 2
$num))3 4
,))4 5
$num))6 9
)))9 :
,)): ;
}** 
)** 
;** 
}++ 	
},, 
}-- Ÿ
eC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\ExceptionHandler\ApiCustomException.cs
	namespace 	
Armazenagem3L_API
 
. 
ExceptionHandler ,
{- .
[ 
Serializable 
] 
public		 

class		 
ApiCustomException		 #
:		$ %
	Exception		& /
{		0 1
public 
ApiCustomException !
(! "
)" #
{$ %
} 	
public 
ApiCustomException !
(! "
string" (
name) -
)- .
:. /
base0 4
(4 5
name5 9
)9 :
{; <
} 	
	protected 
ApiCustomException $
($ %
SerializationInfo% 6
info7 ;
,; <
StreamingContext= M
contextN U
)U V
:W X
baseY ]
(] ^
info^ b
,b c
contextd k
)k l
{m n
} 	
} 
} Ñ

`C:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\ExceptionHandler\CustomHandler.cs
	namespace 	
Armazenagem3L_API
 
. 
ExceptionHandler ,
{- .
public		 

class		 
CustomHandler		 
{		  
public

 
HttpStatusCode

 

StatusCode

 (
{

) *
get

+ .
;

. /
set

0 3
;

3 4
}

5 6
public 
string 
Nome 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
	Descricao 
{  !
get" %
;% &
set' *
;* +
}, -
public 
CustomHandler 
( 
HttpStatusCode +

statusCode, 6
,6 7
string8 >
nome? C
,C D
stringE K
	descricaoL U
)U V
{W X

StatusCode 
= 

statusCode #
;# $
Nome 
= 
nome 
; 
	Descricao 
= 
	descricao !
;! "
} 	
} 
} ß
WC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Logger\ILoggerManager.cs
	namespace 	
Armazenagem3L_API
 
. 
Logger "
{# $
public 

	interface 
ILoggerManager #
{$ %
void 
LogInfo 
( 
string 
message #
)# $
;$ %
void		 
LogWarn		 
(		 
string		 
message		 #
)		# $
;		$ %
void

 
LogDebug

 
(

 
string

 
message

 $
)

$ %
;

% &
void 
LogError 
( 
string 
message $
)$ %
;% &
} 
} ¥
[C:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Logger\Impl\LoggerManager.cs
	namespace 	
Armazenagem3L_API
 
. 
Logger "
." #
Impl# '
{( )
public 

class 
LoggerManager 
:  
ILoggerManager! /
{0 1
private

 
static

 
ILogger

 
logger

 %
=

& '

LogManager

( 2
.

2 3!
GetCurrentClassLogger

3 H
(

H I
)

I J
;

J K
public 
void 
LogDebug 
( 
string #
message$ +
)+ ,
{- .
logger 
. 
Debug 
( 
message  
)  !
;! "
} 	
public 
void 
LogError 
( 
string #
message$ +
)+ ,
{- .
logger 
. 
Error 
( 
message  
)  !
;! "
} 	
public 
void 
LogInfo 
( 
string "
message# *
)* +
{, -
logger 
. 
Info 
( 
message 
)  
;  !
} 	
public 
void 
LogWarn 
( 
string "
message# *
)* +
{, -
logger 
. 
Warn 
( 
message 
)  
;  !
} 	
} 
} ƒ§
cC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Migrations\20201222134351_initial.cs
	namespace 	
Armazenagem3L_API
 
. 

Migrations &
{ 
public 

partial 
class 
initial  
:! "
	Migration# ,
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{		 	
migrationBuilder

 
.

 
EnsureSchema

 )
(

) *
name 
: 
$str %
)% &
;& '
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
, 
schema 
: 
$str '
,' (
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 :
,: ;
nullable< D
:D E
falseF K
)K L
. 

Annotation #
(# $
$str$ D
,D E)
NpgsqlValueGenerationStrategyF c
.c d#
IdentityByDefaultColumnd {
){ |
,| }
Endereco 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: @
,@ A
nullableB J
:J K
falseL Q
)Q R
,R S
Frete 
= 
table !
.! "
Column" (
<( )
decimal) 0
>0 1
(1 2
type2 6
:6 7
$str8 A
,A B
nullableC K
:K L
falseM R
)R S
,S T
MotoristaId 
=  !
table" '
.' (
Column( .
<. /
int/ 2
>2 3
(3 4
type4 8
:8 9
$str: C
,C D
nullableE M
:M N
falseO T
)T U
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 0
,0 1
x2 3
=>4 6
x7 8
.8 9
Id9 ;
); <
;< =
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str $
,$ %
schema 
: 
$str '
,' (
columns   
:   
table   
=>   !
new  " %
{!! 
Id"" 
="" 
table"" 
."" 
Column"" %
<""% &
int""& )
>"") *
(""* +
type""+ /
:""/ 0
$str""1 :
,"": ;
nullable""< D
:""D E
false""F K
)""K L
.## 

Annotation## #
(### $
$str##$ D
,##D E)
NpgsqlValueGenerationStrategy##F c
.##c d#
IdentityByDefaultColumn##d {
)##{ |
,##| }
Nome$$ 
=$$ 
table$$  
.$$  !
Column$$! '
<$$' (
string$$( .
>$$. /
($$/ 0
type$$0 4
:$$4 5
$str$$6 <
,$$< =
nullable$$> F
:$$F G
true$$H L
)$$L M
}%% 
,%% 
constraints&& 
:&& 
table&& "
=>&&# %
{'' 
table(( 
.(( 

PrimaryKey(( $
((($ %
$str((% 6
,((6 7
x((8 9
=>((: <
x((= >
.((> ?
Id((? A
)((A B
;((B C
})) 
))) 
;)) 
migrationBuilder++ 
.++ 
CreateTable++ (
(++( )
name,, 
:,, 
$str,, "
,,," #
schema-- 
:-- 
$str-- '
,--' (
columns.. 
:.. 
table.. 
=>.. !
new.." %
{// 
Id00 
=00 
table00 
.00 
Column00 %
<00% &
int00& )
>00) *
(00* +
type00+ /
:00/ 0
$str001 :
,00: ;
nullable00< D
:00D E
false00F K
)00K L
.11 

Annotation11 #
(11# $
$str11$ D
,11D E)
NpgsqlValueGenerationStrategy11F c
.11c d#
IdentityByDefaultColumn11d {
)11{ |
,11| }
Nome22 
=22 
table22  
.22  !
Column22! '
<22' (
string22( .
>22. /
(22/ 0
type220 4
:224 5
$str226 <
,22< =
nullable22> F
:22F G
false22H M
)22M N
,22N O
Login33 
=33 
table33 !
.33! "
Column33" (
<33( )
string33) /
>33/ 0
(330 1
type331 5
:335 6
$str337 =
,33= >
nullable33? G
:33G H
false33I N
)33N O
,33O P
Senha44 
=44 
table44 !
.44! "
Column44" (
<44( )
string44) /
>44/ 0
(440 1
type441 5
:445 6
$str447 =
,44= >
nullable44? G
:44G H
false44I N
)44N O
,44O P
Email55 
=55 
table55 !
.55! "
Column55" (
<55( )
string55) /
>55/ 0
(550 1
type551 5
:555 6
$str557 =
,55= >
nullable55? G
:55G H
false55I N
)55N O
}66 
,66 
constraints77 
:77 
table77 "
=>77# %
{88 
table99 
.99 

PrimaryKey99 $
(99$ %
$str99% 4
,994 5
x996 7
=>998 :
x99; <
.99< =
Id99= ?
)99? @
;99@ A
}:: 
):: 
;:: 
migrationBuilder<< 
.<< 
CreateTable<< (
(<<( )
name== 
:== 
$str==  
,==  !
schema>> 
:>> 
$str>> '
,>>' (
columns?? 
:?? 
table?? 
=>?? !
new??" %
{@@ 
IdAA 
=AA 
tableAA 
.AA 
ColumnAA %
<AA% &
intAA& )
>AA) *
(AA* +
typeAA+ /
:AA/ 0
$strAA1 :
,AA: ;
nullableAA< D
:AAD E
falseAAF K
)AAK L
.BB 

AnnotationBB #
(BB# $
$strBB$ D
,BBD E)
NpgsqlValueGenerationStrategyBBF c
.BBc d#
IdentityByDefaultColumnBBd {
)BB{ |
,BB| }
NomeCC 
=CC 
tableCC  
.CC  !
ColumnCC! '
<CC' (
stringCC( .
>CC. /
(CC/ 0
typeCC0 4
:CC4 5
$strCC6 <
,CC< =
nullableCC> F
:CCF G
falseCCH M
)CCM N
,CCN O
PesoDD 
=DD 
tableDD  
.DD  !
ColumnDD! '
<DD' (
decimalDD( /
>DD/ 0
(DD0 1
typeDD1 5
:DD5 6
$strDD7 F
,DDF G
nullableDDH P
:DDP Q
falseDDR W
)DDW X
,DDX Y
PrecoEE 
=EE 
tableEE !
.EE! "
ColumnEE" (
<EE( )
decimalEE) 0
>EE0 1
(EE1 2
typeEE2 6
:EE6 7
$strEE8 H
,EEH I
nullableEEJ R
:EER S
falseEET Y
)EEY Z
,EEZ [
QtdFF 
=FF 
tableFF 
.FF  
ColumnFF  &
<FF& '
intFF' *
>FF* +
(FF+ ,
typeFF, 0
:FF0 1
$strFF2 ;
,FF; <
nullableFF= E
:FFE F
falseFFG L
)FFL M
}GG 
,GG 
constraintsHH 
:HH 
tableHH "
=>HH# %
{II 
tableJJ 
.JJ 

PrimaryKeyJJ $
(JJ$ %
$strJJ% 2
,JJ2 3
xJJ4 5
=>JJ6 8
xJJ9 :
.JJ: ;
IdJJ; =
)JJ= >
;JJ> ?
}KK 
)KK 
;KK 
migrationBuilderMM 
.MM 
CreateTableMM (
(MM( )
nameNN 
:NN 
$strNN '
,NN' (
schemaOO 
:OO 
$strOO '
,OO' (
columnsPP 
:PP 
tablePP 
=>PP !
newPP" %
{QQ 
CargaIdRR 
=RR 
tableRR #
.RR# $
ColumnRR$ *
<RR* +
intRR+ .
>RR. /
(RR/ 0
typeRR0 4
:RR4 5
$strRR6 ?
,RR? @
nullableRRA I
:RRI J
falseRRK P
)RRP Q
,RRQ R
MotoristaIdSS 
=SS  !
tableSS" '
.SS' (
ColumnSS( .
<SS. /
intSS/ 2
>SS2 3
(SS3 4
typeSS4 8
:SS8 9
$strSS: C
,SSC D
nullableSSE M
:SSM N
falseSSO T
)SST U
}TT 
,TT 
constraintsUU 
:UU 
tableUU "
=>UU# %
{VV 
tableWW 
.WW 

PrimaryKeyWW $
(WW$ %
$strWW% 9
,WW9 :
xWW; <
=>WW= ?
newWW@ C
{WWD E
xWWF G
.WWG H
CargaIdWWH O
,WWO P
xWWQ R
.WWR S
MotoristaIdWWS ^
}WW_ `
)WW` a
;WWa b
tableXX 
.XX 

ForeignKeyXX $
(XX$ %
nameYY 
:YY 
$strYY A
,YYA B
columnZZ 
:ZZ 
xZZ  !
=>ZZ" $
xZZ% &
.ZZ& '
CargaIdZZ' .
,ZZ. /
principalSchema[[ '
:[[' (
$str[[) 8
,[[8 9
principalTable\\ &
:\\& '
$str\\( 0
,\\0 1
principalColumn]] '
:]]' (
$str]]) -
,]]- .
onDelete^^  
:^^  !
ReferentialAction^^" 3
.^^3 4
Cascade^^4 ;
)^^; <
;^^< =
table__ 
.__ 

ForeignKey__ $
(__$ %
name`` 
:`` 
$str`` I
,``I J
columnaa 
:aa 
xaa  !
=>aa" $
xaa% &
.aa& '
MotoristaIdaa' 2
,aa2 3
principalSchemabb '
:bb' (
$strbb) 8
,bb8 9
principalTablecc &
:cc& '
$strcc( 4
,cc4 5
principalColumndd '
:dd' (
$strdd) -
,dd- .
onDeleteee  
:ee  !
ReferentialActionee" 3
.ee3 4
Cascadeee4 ;
)ee; <
;ee< =
}ff 
)ff 
;ff 
migrationBuilderhh 
.hh 
CreateTablehh (
(hh( )
nameii 
:ii 
$strii %
,ii% &
schemajj 
:jj 
$strjj '
,jj' (
columnskk 
:kk 
tablekk 
=>kk !
newkk" %
{ll 
CargaIdmm 
=mm 
tablemm #
.mm# $
Columnmm$ *
<mm* +
intmm+ .
>mm. /
(mm/ 0
typemm0 4
:mm4 5
$strmm6 ?
,mm? @
nullablemmA I
:mmI J
falsemmK P
)mmP Q
,mmQ R
	ProdutoIdnn 
=nn 
tablenn  %
.nn% &
Columnnn& ,
<nn, -
intnn- 0
>nn0 1
(nn1 2
typenn2 6
:nn6 7
$strnn8 A
,nnA B
nullablennC K
:nnK L
falsennM R
)nnR S
,nnS T
Qtdoo 
=oo 
tableoo 
.oo  
Columnoo  &
<oo& '
intoo' *
>oo* +
(oo+ ,
typeoo, 0
:oo0 1
$stroo2 ;
,oo; <
nullableoo= E
:ooE F
falseooG L
)ooL M
}pp 
,pp 
constraintsqq 
:qq 
tableqq "
=>qq# %
{rr 
tabless 
.ss 

PrimaryKeyss $
(ss$ %
$strss% 7
,ss7 8
xss9 :
=>ss; =
newss> A
{ssB C
xssD E
.ssE F
CargaIdssF M
,ssM N
xssO P
.ssP Q
	ProdutoIdssQ Z
}ss[ \
)ss\ ]
;ss] ^
tablett 
.tt 

ForeignKeytt $
(tt$ %
nameuu 
:uu 
$struu ?
,uu? @
columnvv 
:vv 
xvv  !
=>vv" $
xvv% &
.vv& '
CargaIdvv' .
,vv. /
principalSchemaww '
:ww' (
$strww) 8
,ww8 9
principalTablexx &
:xx& '
$strxx( 0
,xx0 1
principalColumnyy '
:yy' (
$stryy) -
,yy- .
onDeletezz  
:zz  !
ReferentialActionzz" 3
.zz3 4
Cascadezz4 ;
)zz; <
;zz< =
table{{ 
.{{ 

ForeignKey{{ $
({{$ %
name|| 
:|| 
$str|| C
,||C D
column}} 
:}} 
x}}  !
=>}}" $
x}}% &
.}}& '
	ProdutoId}}' 0
,}}0 1
principalSchema~~ '
:~~' (
$str~~) 8
,~~8 9
principalTable &
:& '
$str( 2
,2 3
principalColumn
ÄÄ '
:
ÄÄ' (
$str
ÄÄ) -
,
ÄÄ- .
onDelete
ÅÅ  
:
ÅÅ  !
ReferentialAction
ÅÅ" 3
.
ÅÅ3 4
Cascade
ÅÅ4 ;
)
ÅÅ; <
;
ÅÅ< =
}
ÇÇ 
)
ÇÇ 
;
ÇÇ 
migrationBuilder
ÑÑ 
.
ÑÑ 

InsertData
ÑÑ '
(
ÑÑ' (
schema
ÖÖ 
:
ÖÖ 
$str
ÖÖ '
,
ÖÖ' (
table
ÜÜ 
:
ÜÜ 
$str
ÜÜ %
,
ÜÜ% &
columns
áá 
:
áá 
new
áá 
[
áá 
]
áá 
{
áá  
$str
áá! %
,
áá% &
$str
áá' -
}
áá. /
,
áá/ 0
values
àà 
:
àà 
new
àà 
object
àà "
[
àà" #
]
àà# $
{
àà% &
$num
àà' (
,
àà( )
$str
àà* 1
}
àà2 3
)
àà3 4
;
àà4 5
migrationBuilder
ää 
.
ää 

InsertData
ää '
(
ää' (
schema
ãã 
:
ãã 
$str
ãã '
,
ãã' (
table
åå 
:
åå 
$str
åå #
,
åå# $
columns
çç 
:
çç 
new
çç 
[
çç 
]
çç 
{
çç  
$str
çç! %
,
çç% &
$str
çç' .
,
çç. /
$str
çç0 7
,
çç7 8
$str
çç9 ?
,
çç? @
$str
ççA H
}
ççI J
,
ççJ K
values
éé 
:
éé 
new
éé 
object
éé "
[
éé" #
]
éé# $
{
éé% &
$num
éé' (
,
éé( )
$str
éé* A
,
ééA B
$str
ééC I
,
ééI J
$str
ééK Q
,
ééQ R
$str
ééS `
}
ééa b
)
ééb c
;
ééc d
migrationBuilder
êê 
.
êê 

InsertData
êê '
(
êê' (
schema
ëë 
:
ëë 
$str
ëë '
,
ëë' (
table
íí 
:
íí 
$str
íí !
,
íí! "
columns
ìì 
:
ìì 
new
ìì 
[
ìì 
]
ìì 
{
ìì  
$str
ìì! %
,
ìì% &
$str
ìì' -
,
ìì- .
$str
ìì/ 5
,
ìì5 6
$str
ìì7 >
,
ìì> ?
$str
ìì@ E
}
ììF G
,
ììG H
values
îî 
:
îî 
new
îî 
object
îî "
[
îî" #
,
îî# $
]
îî$ %
{
ïï 
{
ññ 
$num
ññ 
,
ññ 
$str
ññ (
,
ññ( )
$num
ññ* ,
,
ññ, -
$num
ññ. 0
,
ññ0 1
$num
ññ2 5
}
ññ6 7
,
ññ7 8
{
óó 
$num
óó 
,
óó 
$str
óó  
,
óó  !
$num
óó" $
,
óó$ %
$num
óó& (
,
óó( )
$num
óó* -
}
óó. /
,
óó/ 0
{
òò 
$num
òò 
,
òò 
$str
òò "
,
òò" #
$num
òò$ &
,
òò& '
$num
òò( *
,
òò* +
$num
òò, /
}
òò0 1
,
òò1 2
{
ôô 
$num
ôô 
,
ôô 
$str
ôô "
,
ôô" #
$num
ôô$ &
,
ôô& '
$num
ôô( *
,
ôô* +
$num
ôô, /
}
ôô0 1
,
ôô1 2
{
öö 
$num
öö 
,
öö 
$str
öö &
,
öö& '
$num
öö( *
,
öö* +
$num
öö, .
,
öö. /
$num
öö0 3
}
öö4 5
,
öö5 6
{
õõ 
$num
õõ 
,
õõ 
$str
õõ $
,
õõ$ %
$num
õõ& (
,
õõ( )
$num
õõ* ,
,
õõ, -
$num
õõ. 1
}
õõ2 3
}
úú 
)
úú 
;
úú 
migrationBuilder
ûû 
.
ûû 
CreateIndex
ûû (
(
ûû( )
name
üü 
:
üü 
$str
üü 2
,
üü2 3
schema
†† 
:
†† 
$str
†† '
,
††' (
table
°° 
:
°° 
$str
°° &
,
°°& '
column
¢¢ 
:
¢¢ 
$str
¢¢ #
)
¢¢# $
;
¢¢$ %
migrationBuilder
§§ 
.
§§ 
CreateIndex
§§ (
(
§§( )
name
•• 
:
•• 
$str
•• 6
,
••6 7
schema
¶¶ 
:
¶¶ 
$str
¶¶ '
,
¶¶' (
table
ßß 
:
ßß 
$str
ßß (
,
ßß( )
column
®® 
:
®® 
$str
®® %
)
®®% &
;
®®& '
}
©© 	
	protected
´´ 
override
´´ 
void
´´ 
Down
´´  $
(
´´$ %
MigrationBuilder
´´% 5
migrationBuilder
´´6 F
)
´´F G
{
¨¨ 	
migrationBuilder
≠≠ 
.
≠≠ 
	DropTable
≠≠ &
(
≠≠& '
name
ÆÆ 
:
ÆÆ 
$str
ÆÆ %
,
ÆÆ% &
schema
ØØ 
:
ØØ 
$str
ØØ '
)
ØØ' (
;
ØØ( )
migrationBuilder
±± 
.
±± 
	DropTable
±± &
(
±±& '
name
≤≤ 
:
≤≤ 
$str
≤≤ '
,
≤≤' (
schema
≥≥ 
:
≥≥ 
$str
≥≥ '
)
≥≥' (
;
≥≥( )
migrationBuilder
µµ 
.
µµ 
	DropTable
µµ &
(
µµ& '
name
∂∂ 
:
∂∂ 
$str
∂∂ $
,
∂∂$ %
schema
∑∑ 
:
∑∑ 
$str
∑∑ '
)
∑∑' (
;
∑∑( )
migrationBuilder
ππ 
.
ππ 
	DropTable
ππ &
(
ππ& '
name
∫∫ 
:
∫∫ 
$str
∫∫  
,
∫∫  !
schema
ªª 
:
ªª 
$str
ªª '
)
ªª' (
;
ªª( )
migrationBuilder
ΩΩ 
.
ΩΩ 
	DropTable
ΩΩ &
(
ΩΩ& '
name
ææ 
:
ææ 
$str
ææ 
,
ææ 
schema
øø 
:
øø 
$str
øø '
)
øø' (
;
øø( )
migrationBuilder
¡¡ 
.
¡¡ 
	DropTable
¡¡ &
(
¡¡& '
name
¬¬ 
:
¬¬ 
$str
¬¬ "
,
¬¬" #
schema
√√ 
:
√√ 
$str
√√ '
)
√√' (
;
√√( )
}
ƒƒ 	
}
≈≈ 
}∆∆ Á
NC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Models\Carga.cs
	namespace 	
Armazenagem3L_API
 
. 
Models "
{# $
[ 
Table 

(
 
$str 
, 
Schema 
= 
$str -
)- .
]. /
public 

class 
Carga 
{ 
public 
Carga 
( 
) 
{ 
} 
public 
Carga 
( 
string 
endereco $
,$ %
decimal& -
frete. 3
,3 4
int5 8
motoristaId9 D
,D E
IEnumerableF Q
<Q R

ProdutoQtdR \
>\ ]
produtos^ f
)f g
{h i
Endereco 
= 
endereco 
;  
Frete 
= 
frete 
; 
MotoristaId 
= 
motoristaId %
;% &
Produtos 
= 
produtos 
;  
} 	
[ 	
Key	 
] 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
[ 	
Required	 
( 
ErrorMessage 
=  
$str! :
): ;
]; <
public 
string 
Endereco 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Required	 
( 
ErrorMessage 
=  
$str! 7
)7 8
]8 9
public 
decimal 
Frete 
{ 
get "
;" #
set$ '
;' (
}) *
public!! 
int!! 
MotoristaId!! 
{!!  
get!!! $
;!!$ %
set!!& )
;!!) *
}!!+ ,
[## 	
	NotMapped##	 
]## 
[$$ 	
JsonProperty$$	 
($$ 
NullValueHandling$$ '
=$$( )
NullValueHandling$$* ;
.$$; <
Ignore$$< B
)$$B C
]$$C D
public%% 
IEnumerable%% 
<%% 

ProdutoQtd%% %
>%%% &
Produtos%%' /
{%%0 1
get%%2 5
;%%5 6
set%%7 :
;%%: ;
}%%< =
['' 	
	NotMapped''	 
]'' 
public(( 
List(( 
<(( 
ItemCargaProduto(( $
>(($ %
ListaProdutos((& 3
{((4 5
get((6 9
;((9 :
set((; >
;((> ?
}((@ A
[++ 	
	NotMapped++	 
]++ 
[,, 	
JsonProperty,,	 
(,, 
NullValueHandling,, '
=,,( )
NullValueHandling,,* ;
.,,; <
Ignore,,< B
),,B C
],,C D
public-- 
	Motorista-- 
	Motorista-- "
{--# $
get--% (
;--( )
set--* -
;--- .
}--/ 0
}.. 
}// Á
UC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Models\CargaProduto.cs
	namespace 	
Armazenagem3L_API
 
. 
Models "
{# $
[		 
Table		 

(		
 
$str		 
,		 
Schema		 "
=		# $
$str		% 4
)		4 5
]		5 6
public

 

class

 
CargaProduto

 
{

 
public 
CargaProduto 
( 
int 
cargaId  '
,' (
int) ,
	produtoId- 6
,6 7
int8 ;
Qtd< ?
)? @
{A B
CargaId 
= 
cargaId 
; 
	ProdutoId 
= 
	produtoId !
;! "
this 
. 
Qtd 
= 
Qtd 
; 
} 	
public 
CargaProduto 
( 
) 
{ 
}  
[ 	
Key	 
, 
Column 
( 
Order 
= 
$num 
) 
]  
public 
int 
CargaId 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
Key	 
, 
Column 
( 
Order 
= 
$num 
) 
]  
public 
int 
	ProdutoId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
Qtd 
{ 
get 
; 
set !
;! "
}# $
public 
Produto 
Produto 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
Carga 
Carga 
{ 
get  
;  !
set" %
;% &
}' (
} 
} ·
WC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Models\CargasRecusada.cs
	namespace		 	
Armazenagem3L_API		
 
.		 
Models		 "
{		# $
[

 
Table

 

(


 
$str

 
,

 
Schema

 $
=

% &
$str

' 6
)

6 7
]

7 8
public 

class 
CargasRecusada 
{  !
public 
CargasRecusada 
( 
) 
{  !
}! "
public 
CargasRecusada 
( 
int !
cargaId" )
,) *
int+ .
motoristaId/ :
): ;
{< =
CargaId 
= 
cargaId 
; 
MotoristaId 
= 
motoristaId %
;% &
} 	
[ 	
Key	 
, 
Column 
( 
Order 
= 
$num 
) 
]  
public 
int 
CargaId 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
Key	 
, 
Column 
( 
Order 
= 
$num 
) 
]  
public 
int 
MotoristaId 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
JsonProperty	 
( 
NullValueHandling '
=( )
NullValueHandling* ;
.; <
Ignore< B
)B C
]C D
public 
	Motorista 
	Motorista "
{# $
get% (
;( )
set* -
;- .
}/ 0
[ 	
JsonProperty	 
( 
NullValueHandling '
=( )
NullValueHandling* ;
.; <
Ignore< B
)B C
]C D
public 
Carga 
Carga 
{ 
get  
;  !
set" %
;% &
}' (
} 
}   –

WC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Models\DadosMotorista.cs
	namespace 	
Armazenagem3L_API
 
. 
Models "
{# $
public 

class 
DadosMotorista 
{  !
public		 
string		 
senha		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Login 
{ 
get !
;! "
set# &
;& '
}( )
public 
DadosMotorista 
( 
) 
{  !
} 	
public 
DadosMotorista 
( 
string $
senha% *
,* +
string, 2
email3 8
,8 9
string: @
loginA F
)F G
{H I
this 
. 
senha 
= 
senha 
; 
Email 
= 
email 
; 
Login 
= 
login 
; 
} 	
} 
} ê

TC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Models\Funcionario.cs
	namespace 	
Armazenagem3L_API
 
. 
Models "
{# $
[		 
Table		 

(		
 
$str		 
,		 
Schema		 !
=		" #
$str		$ 3
)		3 4
]		4 5
public

 

class

 
Funcionario

 
{

 
public 
Funcionario 
( 
) 
{ 
}  
public 
Funcionario 
( 
int 
Id !
,! "
string# )
Nome* .
). /
{0 1
this 
. 
Id 
= 
Id 
; 
this 
. 
Nome 
= 
Nome 
; 
} 	
[ 	
Key	 
] 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
Nome 
{ 
get  
;  !
set" %
;% &
}' (
} 
} Ê
YC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Models\ItemCargaProduto.cs
	namespace 	
Armazenagem3L_API
 
. 
Models "
{ 
public 

class 
ItemCargaProduto !
{		 
public

 
Produto

 
Produto

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
public 
int 

Quantidade 
{ 
get  #
;# $
set% (
;( )
}* +
} 
} 
RC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Models\Motorista.cs
	namespace 	
Armazenagem3L_API
 
. 
Models "
{# $
[		 
Table		 

(		
 
$str		 
,		 
Schema		 
=		  !
$str		" 1
)		1 2
]		2 3
public

 

class

 
	Motorista

 
{

 
public 
	Motorista 
( 
) 
{ 
} 
public 
	Motorista 
( 
int 
id 
,  
string! '
nome( ,
), -
{. /
Id 
= 
id 
; 
Nome 
= 
nome 
; 
} 	
public 
	Motorista 
( 
int 
id 
,  
string! '
nome( ,
,, -
string. 4
login5 :
,: ;
string< B
senhaC H
,H I
stringJ P
emailQ V
)V W
{X Y
Id 
= 
id 
; 
Nome 
= 
nome 
; 
Login 
= 
login 
; 
Senha 
= 
senha 
; 
Email 
= 
email 
; 
} 	
[ 	
Key	 
] 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
[ 	
Required	 
( 
ErrorMessage 
=  
$str! 6
)6 7
]7 8
public 
string 
Nome 
{ 
get  
;  !
set" %
;% &
}' (
[   	
Required  	 
(   
ErrorMessage   
=    
$str  ! 7
)  7 8
]  8 9
public!! 
string!! 
Login!! 
{!! 
get!! !
;!!! "
set!!# &
;!!& '
}!!( )
[## 	
Required##	 
(## 
ErrorMessage## 
=##  
$str##! 7
)##7 8
]##8 9
public$$ 
string$$ 
Senha$$ 
{$$ 
get$$ !
;$$! "
set$$# &
;$$& '
}$$( )
[&& 	
Required&&	 
(&& 
ErrorMessage&& 
=&&  
$str&&! 7
)&&7 8
]&&8 9
public'' 
string'' 
Email'' 
{'' 
get'' !
;''! "
set''# &
;''& '
}''( )
}(( 
})) ∞
WC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Models\MotoristaCarga.cs
	namespace 	
Armazenagem3L_API
 
. 
Models "
{# $
public 

class 
MotoristaCarga 
{  !
public		 
int		 
CargaId		 
{		 
get		  
;		  !
set		" %
;		% &
}		' (
public

 
int

 
MotoristaId

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
public 
MotoristaCarga 
( 
int !
cargaId" )
,) *
int+ .
motoristaId/ :
): ;
{< =
CargaId 
= 
cargaId 
; 
MotoristaId 
= 
motoristaId %
;% &
} 	
public 
MotoristaCarga 
( 
) 
{  !
} 	
} 
} Œ
PC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Models\Produto.cs
	namespace 	
Armazenagem3L_API
 
. 
Models "
{# $
[		 
Table		 

(		
 
$str		 
,		 
Schema		 
=		 
$str		  /
)		/ 0
]		0 1
public

 

class

 
Produto

 
{

 
public 
Produto 
( 
) 
{ 
} 
public 
Produto 
( 
int 
id 
, 
string %
nome& *
,* +
decimal, 3
peso4 8
,8 9
decimal: A
precoB G
,G H
intI L
qtdM P
)P Q
{R S
Id 
= 
id 
; 
Nome 
= 
nome 
; 
Peso 
= 
peso 
; 
Preco 
= 
preco 
; 
Qtd 
= 
qtd 
; 
} 	
[ 	
Key	 
] 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
[ 	
Required	 
( 
ErrorMessage 
=  
$str! 6
)6 7
]7 8
public 
string 
Nome 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
Required	 
( 
ErrorMessage 
=  
$str! 6
)6 7
]7 8
[ 	
Column	 
( 
TypeName 
= 
$str *
)* +
]+ ,
public 
decimal 
Peso 
{ 
get !
;! "
set# &
;& '
}( )
[   	
Required  	 
(   
ErrorMessage   
=    
$str  ! 7
)  7 8
]  8 9
[!! 	
DataType!!	 
(!! 
DataType!! 
.!! 
Currency!! #
,!!# $
ErrorMessage!!% 1
=!!2 3
$str!!4 a
)!!a b
]!!b c
["" 	
Column""	 
("" 
TypeName"" 
="" 
$str"" +
)""+ ,
]"", -
public## 
decimal## 
Preco## 
{## 
get## "
;##" #
set##$ '
;##' (
}##) *
[%% 	
Required%%	 
(%% 
ErrorMessage%% 
=%%  
$str%%! 1
)%%1 2
]%%2 3
[&& 	
Range&&	 
(&& 
$num&& 
,&& 
$num&& 
,&& 
ErrorMessage&& #
=&&$ %
$str&&& G
)&&G H
]&&H I
public'' 
int'' 
Qtd'' 
{'' 
get'' 
;'' 
set'' !
;''! "
}''# $
})) 
}** ù

SC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Models\ProdutoQtd.cs
	namespace 	
Armazenagem3L_API
 
. 
Models "
{# $
public 

class 

ProdutoQtd 
{ 
public		 
int		 
	ProdutoId		 
{		 
get		 "
;		" #
set		$ '
;		' (
}		) *
public 
int 
Qtd 
{ 
get 
; 
set !
;! "
}# $
public 
int 
CargaId 
{ 
get  
;  !
set" %
;% &
}' (
public 

ProdutoQtd 
( 
) 
{ 
} 	
public 

ProdutoQtd 
( 
int 
	produtoId '
,' (
int) ,
qtd- 0
,0 1
int2 5
cargaId6 =
)= >
{? @
	ProdutoId 
= 
	produtoId !
;! "
Qtd 
= 
qtd 
; 
CargaId 
= 
cargaId 
; 
} 	
} 
} æ

IC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Program.cs
	namespace

 	
Armazenagem3L_API


 
{

 
public 

static 
class 
Program 
{  !
public 
static 
void 
Main 
(  
string  &
[& '
]' (
args) -
)- .
{/ 0
CreateHostBuilder 
( 
args "
)" #
.# $
Build$ )
() *
)* +
.+ ,
Run, /
(/ 0
)0 1
;1 2
} 	
public 
static 
IHostBuilder "
CreateHostBuilder# 4
(4 5
string5 ;
[; <
]< =
args> B
)B C
=>D F
Host 
.  
CreateDefaultBuilder %
(% &
args& *
)* +
. $
ConfigureWebHostDefaults )
() *

webBuilder* 4
=>5 7
{8 9

webBuilder 
. 

UseStartup )
<) *
Startup* 1
>1 2
(2 3
)3 4
;4 5
} 
) 
; 
} 
} Î
_C:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Repositories\ICargaRepository.cs
	namespace 	
Armazenagem3L_API
 
. 
Repositories (
{) *
public 

	interface 
ICargaRepository %
{& '
void

 
Add

 
(

 
Carga

 
carga

 
)

 
;

 
void 
AddCargaProdutos 
( 
CargaProduto *
cargaProduto+ 7
)7 8
;8 9
void 
AddCargaRecusada 
( 
CargasRecusada ,
cargaRecusada- :
): ;
;; <
Carga 
FindById 
( 
int 
Id 
) 
; 
bool 
SaveChanges 
( 
) 
; 
Carga 
GetLast 
( 
) 
; 
IEnumerable 
< 
CargaProduto  
>  !
FindCargaProdutos" 3
(3 4
int4 7
Id8 :
): ;
;; <
IEnumerable 
< 
CargasRecusada "
>" #
FindCargasRecusadas$ 7
(7 8
int8 ;
Id< >
)> ?
;? @
void 
DeleteCargaProduto 
(  
CargaProduto  ,
cargaProduto- 9
)9 :
;: ;
void 
DeleteCarga 
( 
Carga 
carga $
)$ %
;% &
void 
Update 
( 
Carga 
carga 
)  
;  !
Carga 
[ 
] 
	GetCargas 
( 
) 
; 
Carga 
GetCargaById 
( 
int 
cargaId &
)& '
;' (
Carga 
[ 
] 
cargaByMotoristaId "
(" #
int# &
motoristaId' 2
)2 3
;3 4
Carga #
cargaByIdAndMotoristaId %
(% &
int& )
cargaId* 1
,1 2
int3 6
motoristaId7 B
)B C
;C D
} 
} £
cC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Repositories\IMotoristaRepository.cs
	namespace 	
Armazenagem3L_API
 
. 
Repositories (
{) *
public 

	interface  
IMotoristaRepository )
{* +
	Motorista		 
FindById		 
(		 
int		 
Id		 !
)		! "
;		" #
	Motorista 
FindByLogin 
( 
string $
login% *
)* +
;+ ,
	Motorista 
FindByEmail 
( 
string $
email% *
)* +
;+ ,
void 
Add 
( 
	Motorista 
	motorista $
)$ %
;% &
void 
Update 
( 
	Motorista 
	motorista '
)' (
;( )
bool 
SaveChanges 
( 
) 
; 
} 
} Êj
gC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Repositories\impl\CargaRepositoryImpl.cs
	namespace

 	
Armazenagem3L_API


 
.

 
Repositories

 (
.

( )
impl

) -
{

. /
public 

class 
CargaRepositoryImpl $
:% &
ICargaRepository' 7
{8 9
private 
readonly 
DataContext $
_context% -
;- .
private 
readonly 
ILoggerManager '
_logger( /
;/ 0
public 
CargaRepositoryImpl "
(" #
DataContext# .
context/ 6
,6 7
ILoggerManager8 F
loggerG M
)M N
{O P
_context 
= 
context 
; 
_logger 
= 
logger 
; 
} 	
public 
void 
Add 
( 
Carga 
carga #
)# $
{% &
_logger 
. 
LogDebug 
( 
$str c
+d e
JsonSerializerf t
.t u
	Serializeu ~
(~ 
carga	 Ñ
)
Ñ Ö
)
Ö Ü
;
Ü á
_context 
. 
Add 
( 
carga 
) 
;  
} 	
public 
void 
AddCargaProdutos $
($ %
CargaProduto% 1
cargaProduto2 >
)> ?
{@ A
_logger 
. 
LogDebug 
( 
$str j
+k l
JsonSerializerm {
.{ |
	Serialize	| Ö
(
Ö Ü
cargaProduto
Ü í
)
í ì
)
ì î
;
î ï
_context 
. 
Add 
( 
cargaProduto %
)% &
;& '
} 	
public 
Carga #
cargaByIdAndMotoristaId ,
(, -
int- 0
cargaId1 8
,8 9
int: =
motoristaId> I
)I J
{K L
_logger   
.   
LogDebug   
(   
$str   x
+  y z
JsonSerializer	  { â
.
  â ä
	Serialize
  ä ì
(
  ì î
cargaId
  î õ
)
  õ ú
+
  ù û
$str
  ü ¨
+
  ≠ Æ
JsonSerializer
  Ø Ω
.
  Ω æ
	Serialize
  æ «
(
  « »
motoristaId
  » ”
)
  ” ‘
)
  ‘ ’
;
  ’ ÷

IQueryable!! 
<!! 
Carga!! 
>!! 
query!! #
=!!$ %
_context!!& .
.!!. /
Cargas!!/ 5
;!!5 6
return## 
query## 
.## 
AsNoTracking## %
(##% &
)##& '
.##' (
OrderBy##( /
(##/ 0
c##0 1
=>##2 4
c##5 6
.##6 7
Id##7 9
)##9 :
.$$ 
Where$$ 
($$ 
carga$$ 
=>$$ 
($$  !
carga$$! &
.$$& '
Id$$' )
==$$* ,
cargaId$$- 4
)$$4 5
&&$$6 8
($$9 :
carga$$: ?
.$$? @
MotoristaId$$@ K
==$$L N
motoristaId$$O Z
)$$Z [
)$$[ \
.$$\ ]
FirstOrDefault$$] k
($$k l
)$$l m
;$$m n
}%% 	
public'' 
Carga'' 
['' 
]'' 
cargaByMotoristaId'' )
('') *
int''* -
motoristaId''. 9
)''9 :
{''; <
_logger(( 
.(( 
LogDebug(( 
((( 
$str(( m
+((n o
JsonSerializer((p ~
.((~ 
	Serialize	(( à
(
((à â
motoristaId
((â î
)
((î ï
)
((ï ñ
;
((ñ ó

IQueryable)) 
<)) 
Carga)) 
>)) 
query)) #
=))$ %
_context))& .
.)). /
Cargas))/ 5
;))5 6
return++ 
query++ 
.++ 
AsNoTracking++ %
(++% &
)++& '
.++' (
OrderBy++( /
(++/ 0
c++0 1
=>++2 4
c++5 6
.++6 7
Id++7 9
)++9 :
.++: ;
Where++; @
(++@ A
carga++A F
=>++G I
carga++J O
.++O P
MotoristaId++P [
==++\ ^
motoristaId++_ j
)++j k
.++k l
ToArray++l s
(++s t
)++t u
;++u v
},, 	
public.. 
void.. 
DeleteCarga.. 
(..  
Carga..  %
carga..& +
)..+ ,
{..- .
_logger// 
.// 
LogDebug// 
(// 
$str// e
+//f g
JsonSerializer//h v
.//v w
	Serialize	//w Ä
(
//Ä Å
carga
//Å Ü
)
//Ü á
)
//á à
;
//à â
_context00 
.00 
Remove00 
(00 
carga00 !
)00! "
;00" #
}11 	
public33 
void33 
DeleteCargaProduto33 &
(33& '
CargaProduto33' 3
cargaProduto334 @
)33@ A
{33B C
_logger44 
.44 
LogDebug44 
(44 
$str44 m
+44n o
JsonSerializer44p ~
.44~ 
	Serialize	44 à
(
44à â
cargaProduto
44â ï
)
44ï ñ
)
44ñ ó
;
44ó ò
_context55 
.55 
Remove55 
(55 
cargaProduto55 (
)55( )
;55) *
}66 	
public88 
Carga88 
FindById88 
(88 
int88 !
Id88" $
)88$ %
{88& '
_logger99 
.99 
LogDebug99 
(99 
$str99 h
+99i j
JsonSerializer99k y
.99y z
	Serialize	99z É
(
99É Ñ
Id
99Ñ Ü
)
99Ü á
)
99á à
;
99à â
return:: 
_context:: 
.:: 
Cargas:: !
.::! "
AsNoTracking::" .
(::. /
)::/ 0
.::0 1
OrderBy::1 8
(::8 9
p::9 :
=>::; =
p::> ?
.::? @
Id::@ B
)::B C
.::C D
Where::D I
(::I J
c::J K
=>::L N
c::O P
.::P Q
Id::Q S
==::T V
Id::W Y
)::Y Z
.::Z [
FirstOrDefault::[ i
(::i j
)::j k
;::k l
};; 	
public== 
Carga== 
GetCargaById== !
(==! "
int==" %
cargaId==& -
)==- .
{==/ 0
_logger>> 
.>> 
LogDebug>> 
(>> 
$str>> g
+>>h i
JsonSerializer>>j x
.>>x y
	Serialize	>>y Ç
(
>>Ç É
cargaId
>>É ä
)
>>ä ã
)
>>ã å
;
>>å ç

IQueryable?? 
<?? 
Carga?? 
>?? 
query?? #
=??$ %
_context??& .
.??. /
Cargas??/ 5
;??5 6

IQueryable@@ 
<@@ 
	Motorista@@  
>@@  !
queryMotorista@@" 0
=@@1 2
_context@@3 ;
.@@; <
	Motorista@@< E
;@@E F
CargaBB 
cargaBB 
=BB 
queryBB 
.BB  
AsNoTrackingBB  ,
(BB, -
)BB- .
.BB. /
OrderByBB/ 6
(BB6 7
cBB7 8
=>BB9 ;
cBB< =
.BB= >
IdBB> @
)BB@ A
.BBA B
WhereBBB G
(BBG H
cargaBBH M
=>BBN P
cargaBBQ V
.BBV W
IdBBW Y
==BBZ \
cargaIdBB] d
)BBd e
.BBe f
FirstOrDefaultBBf t
(BBt u
)BBu v
;BBv w
	MotoristaDD 
	motoristaDD 
=DD  !
queryMotoristaDD" 0
.DD0 1
AsNoTrackingDD1 =
(DD= >
)DD> ?
.DD? @
OrderByDD@ G
(DDG H
mDDH I
=>DDJ L
mDDM N
.DDN O
IdDDO Q
)DDQ R
.DDR S
WhereDDS X
(DDX Y
	motoristaDDY b
=>DDc e
	motoristaDDf o
.DDo p
IdDDp r
==DDs u
cargaDDv {
.DD{ |
MotoristaId	DD| á
)
DDá à
.
DDà â
FirstOrDefault
DDâ ó
(
DDó ò
)
DDò ô
;
DDô ö
cargaFF 
.FF 
	MotoristaFF 
=FF 
	motoristaFF '
;FF' (
returnHH 
cargaHH 
;HH 
}II 	
publicKK 
CargaKK 
[KK 
]KK 
	GetCargasKK  
(KK  !
)KK! "
{KK# $
_loggerLL 
.LL 
LogDebugLL 
(LL 
$strLL b
)LLb c
;LLc d

IQueryableMM 
<MM 
CargaMM 
>MM 
queryMM #
=MM$ %
_contextMM& .
.MM. /
CargasMM/ 5
;MM5 6
returnOO 
queryOO 
.OO 
AsNoTrackingOO %
(OO% &
)OO& '
.OO' (
OrderByOO( /
(OO/ 0
cOO0 1
=>OO2 4
cOO5 6
.OO6 7
IdOO7 9
)OO9 :
.OO: ;
ToArrayOO; B
(OOB C
)OOC D
;OOD E
}PP 	
publicRR 
IEnumerableRR 
<RR 
CargaProdutoRR '
>RR' (
FindCargaProdutosRR) :
(RR: ;
intRR; >
IdRR? A
)RRA B
{RRC D
_loggerSS 
.SS 
LogDebugSS 
(SS 
$strSS k
+SSl m
JsonSerializerSSn |
.SS| }
	Serialize	SS} Ü
(
SSÜ á
Id
SSá â
)
SSâ ä
)
SSä ã
;
SSã å
returnTT 
_contextTT 
.TT 
CargaProdutosTT )
.TT) *
AsNoTrackingTT* 6
(TT6 7
)TT7 8
.TT8 9
OrderByTT9 @
(TT@ A
pTTA B
=>TTC E
pTTF G
.TTG H
CargaIdTTH O
)TTO P
.TTP Q
WhereTTQ V
(TTV W
cTTW X
=>TTY [
cTT\ ]
.TT] ^
CargaIdTT^ e
==TTf h
IdTTi k
)TTk l
.TTl m
ToListTTm s
(TTs t
)TTt u
;TTu v
}UU 	
publicWW 
CargaWW 
GetLastWW 
(WW 
)WW 
{WW  
returnXX 
_contextXX 
.XX 
CargasXX "
.XX" #
OrderByXX# *
(XX* +
cXX+ ,
=>XX- /
cXX0 1
.XX1 2
IdXX2 4
)XX4 5
.XX5 6
LastXX6 :
(XX: ;
)XX; <
;XX< =
}YY 	
public[[ 
bool[[ 
SaveChanges[[ 
([[  
)[[  !
{[[" #
return\\ 
(\\ 
_context\\ 
.\\ 
SaveChanges\\ (
(\\( )
)\\) *
>\\+ ,
$num\\- .
)\\. /
;\\/ 0
}]] 	
public__ 
void__ 
Update__ 
(__ 
Carga__  
carga__! &
)__& '
{__( )
_context`` 
.`` 
Entry`` 
(`` 
carga``  
)``  !
.``! "
State``" '
=``( )
EntityState``* 5
.``5 6
Modified``6 >
;``> ?
}aa 	
publiccc 
voidcc 
AddCargaRecusadacc $
(cc$ %
CargasRecusadacc% 3
cargaRecusadacc4 A
)ccA B
{ccC D
_loggerdd 
.dd 
LogDebugdd 
(dd 
$strdd j
+ddk l
JsonSerializerddm {
.dd{ |
	Serialize	dd| Ö
(
ddÖ Ü
cargaRecusada
ddÜ ì
)
ddì î
)
ddî ï
;
ddï ñ
_contextee 
.ee 
Addee 
(ee 
cargaRecusadaee &
)ee& '
;ee' (
}ff 	
publichh 
IEnumerablehh 
<hh 
CargasRecusadahh )
>hh) *
FindCargasRecusadashh+ >
(hh> ?
inthh? B
IdhhC E
)hhE F
{hhG H
_loggerii 
.ii 
LogDebugii 
(ii 
$strii k
+iil m
JsonSerializeriin |
.ii| }
	Serialize	ii} Ü
(
iiÜ á
Id
iiá â
)
iiâ ä
)
iiä ã
;
iiã å
returnjj 
_contextjj 
.jj 
CargasRecusadasjj +
.jj+ ,
AsNoTrackingjj, 8
(jj8 9
)jj9 :
.jj: ;
OrderByjj; B
(jjB C
pjjC D
=>jjE G
pjjH I
.jjI J
CargaIdjjJ Q
)jjQ R
.jjR S
WherejjS X
(jjX Y
cjjY Z
=>jj[ ]
cjj^ _
.jj_ `
MotoristaIdjj` k
==jjl n
Idjjo q
)jjq r
.jjr s
ToListjjs y
(jjy z
)jjz {
;jj{ |
}kk 	
}ll 
}mm Ô*
kC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Repositories\impl\MotoristaRepositoryImpl.cs
	namespace 	
Armazenagem3L_API
 
. 
Repositories (
.( )
impl) -
{. /
public		 

class		 #
MotoristaRepositoryImpl		 (
:		) * 
IMotoristaRepository		+ ?
{		@ A
private 
readonly 
DataContext $
_context% -
;- .
private 
readonly 
ILoggerManager '
_logger( /
;/ 0
public #
MotoristaRepositoryImpl &
(& '
DataContext' 2
context3 :
,: ;
ILoggerManager< J
loggerK Q
)Q R
{S T
_context 
= 
context 
; 
_logger 
= 
logger 
; 
} 	
public 
void 
Add 
( 
	Motorista !
	motorista" +
)+ ,
{- .
_logger 
. 
LogDebug 
( 
$str g
+h i
JsonSerializerj x
.x y
	Serialize	y Ç
(
Ç É
	motorista
É å
)
å ç
)
ç é
;
é è
_context 
. 
Add 
( 
	motorista "
)" #
;# $
} 	
public 
void 
Update 
( 
	Motorista $
	motorista% .
). /
{0 1
_logger 
. 
LogDebug 
( 
$str j
+k l
JsonSerializerm {
.{ |
	Serialize	| Ö
(
Ö Ü
	motorista
Ü è
)
è ê
)
ê ë
;
ë í
_context 
. 
Entry 
( 
	motorista $
)$ %
.% &
State& +
=, -
EntityState. 9
.9 :
Modified: B
;B C
} 	
public 
	Motorista 
FindById !
(! "
int" %
Id& (
)( )
{* +
_logger 
. 
LogDebug 
( 
$str l
+m n
JsonSerializero }
.} ~
	Serialize	~ á
(
á à
Id
à ä
)
ä ã
)
ã å
;
å ç
return 
_context 
. 
	Motorista %
.% &
AsNoTracking& 2
(2 3
)3 4
.4 5
OrderBy5 <
(< =
p= >
=>? A
pB C
.C D
IdD F
)F G
.G H
WhereH M
(M N
mN O
=>P R
mS T
.T U
IdU W
==X Z
Id[ ]
)] ^
.^ _
FirstOrDefault_ m
(m n
)n o
;o p
}   	
public"" 
	Motorista"" 
FindByLogin"" $
(""$ %
string""% +
login"", 1
)""1 2
{""3 4
_logger## 
.## 
LogDebug## 
(## 
$str## o
+##p q
JsonSerializer	##r Ä
.
##Ä Å
	Serialize
##Å ä
(
##ä ã
login
##ã ê
)
##ê ë
)
##ë í
;
##í ì
return$$ 
_context$$ 
.$$ 
	Motorista$$ %
.$$% &
AsNoTracking$$& 2
($$2 3
)$$3 4
.$$4 5
OrderBy$$5 <
($$< =
p$$= >
=>$$? A
p$$B C
.$$C D
Id$$D F
)$$F G
.$$G H
Where$$H M
($$M N
m$$N O
=>$$P R
m$$S T
.$$T U
Login$$U Z
==$$[ ]
login$$^ c
)$$c d
.$$d e
FirstOrDefault$$e s
($$s t
)$$t u
;$$u v
}%% 	
public'' 
	Motorista'' 
FindByEmail'' $
(''$ %
string''% +
email'', 1
)''1 2
{''3 4
_logger(( 
.(( 
LogDebug(( 
((( 
$str(( o
+((p q
JsonSerializer	((r Ä
.
((Ä Å
	Serialize
((Å ä
(
((ä ã
email
((ã ê
)
((ê ë
)
((ë í
;
((í ì
return)) 
_context)) 
.)) 
	Motorista)) %
.))% &
AsNoTracking))& 2
())2 3
)))3 4
.))4 5
OrderBy))5 <
())< =
p))= >
=>))? A
p))B C
.))C D
Id))D F
)))F G
.))G H
Where))H M
())M N
m))N O
=>))P R
m))S T
.))T U
Email))U Z
==))[ ]
email))^ c
)))c d
.))d e
FirstOrDefault))e s
())s t
)))t u
;))u v
}** 	
public,, 
bool,, 
SaveChanges,, 
(,,  
),,  !
{,," #
return-- 
(-- 
_context-- 
.-- 
SaveChanges-- (
(--( )
)--) *
>--+ ,
$num--- .
)--. /
;--/ 0
}.. 	
}00 
}11 Ù'
jC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Repositories\impl\ProdutosRepositoryImpl.cs
	namespace 	
Armazenagem3L_API
 
. 
Repositories (
.( )
impl) -
{. /
public		 

class		 "
ProdutosRepositoryImpl		 '
:		( )
IProdutosRepository		* =
{		> ?
private 
readonly 
DataContext $
_context% -
;- .
private 
readonly 
ILoggerManager '
_logger( /
;/ 0
public "
ProdutosRepositoryImpl %
(% &
DataContext& 1
context2 9
,9 :
ILoggerManager; I
loggerJ P
)P Q
{R S
_context 
= 
context 
; 
_logger 
= 
logger 
; 
} 	
public 
void 
Add 
( 
Produto 
produto  '
)' (
{) *
_logger 
. 
LogDebug 
( 
$str e
+f g
JsonSerializerh v
.v w
	Serialize	w Ä
(
Ä Å
produto
Å à
)
à â
)
â ä
;
ä ã
_context 
. 
Add 
( 
produto  
)  !
;! "
} 	
public 
Produto 
GetProdutoById %
(% &
int& )
	produtoId* 3
)3 4
{5 6
_logger 
. 
LogDebug 
( 
$str p
+q r
JsonSerializer	s Å
.
Å Ç
	Serialize
Ç ã
(
ã å
	produtoId
å ï
)
ï ñ
)
ñ ó
;
ó ò

IQueryable 
< 
Produto 
> 
query  %
=& '
_context( 0
.0 1
Produto1 8
;8 9
return 
query 
. 
AsNoTracking %
(% &
)& '
.' (
OrderBy( /
(/ 0
p0 1
=>2 4
p5 6
.6 7
Id7 9
)9 :
.: ;
Where; @
(@ A
produtoA H
=>I K
produtoL S
.S T
IdT V
==W Y
	produtoIdZ c
)c d
. 
FirstOrDefault #
(# $
)$ %
;% &
} 	
public   
Produto   
[   
]   
GetProdutos   $
(  $ %
)  % &
{  ' (
_logger!! 
.!! 
LogDebug!! 
(!! 
$str!! b
)!!b c
;!!c d

IQueryable"" 
<"" 
Produto"" 
>"" 
query""  %
=""& '
_context""( 0
.""0 1
Produto""1 8
;""8 9
return$$ 
query$$ 
.$$ 
AsNoTracking$$ &
($$& '
)$$' (
.$$( )
OrderBy$$) 0
($$0 1
p$$1 2
=>$$3 5
p$$6 7
.$$7 8
Id$$8 :
)$$: ;
.$$; <
ToArray$$< C
($$C D
)$$D E
;$$E F
}%% 	
public'' 
void'' 
Delete'' 
('' 
Produto'' "
produto''# *
)''* +
{'', -
_logger(( 
.(( 
LogDebug(( 
((( 
$str(( h
+((i j
JsonSerializer((k y
.((y z
	Serialize	((z É
(
((É Ñ
produto
((Ñ ã
)
((ã å
)
((å ç
;
((ç é
_context)) 
.)) 
Remove)) 
()) 
produto)) #
)))# $
;))$ %
}** 	
public,, 
void,, 
Update,, 
(,, 
Produto,, "
produto,,# *
),,* +
{,,, -
_logger-- 
.-- 
LogDebug-- 
(-- 
$str-- h
+--i j
JsonSerializer--k y
.--y z
	Serialize	--z É
(
--É Ñ
produto
--Ñ ã
)
--ã å
)
--å ç
;
--ç é
_context.. 
... 
Entry.. 
(.. 
produto.. "
).." #
...# $
State..$ )
=..* +
EntityState.., 7
...7 8
Modified..8 @
;..@ A
_context// 
.// 
SaveChanges//  
(//  !
)//! "
;//" #
}00 	
public22 
bool22 
SaveChanges22 
(22  
)22  !
{22" #
return33 
(33 
_context33 
.33 
SaveChanges33 (
(33( )
)33) *
>33+ ,
$num33- .
)33. /
;33/ 0
}44 	
}66 
}77 í
bC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Repositories\IProdutosRepository.cs
	namespace 	
Armazenagem3L_API
 
. 
Repositories (
{) *
public 

	interface 
IProdutosRepository (
{) *
Produto

 
[

 
]

 
GetProdutos

 
(

 
)

 
;

  
Produto 
GetProdutoById 
( 
int "
	produtoId# ,
), -
;- .
void 
Add 
( 
Produto 
produto  
)  !
;! "
void 
Update 
( 
Produto 
produto #
)# $
;$ %
void 
Delete 
( 
Produto 
produto #
)# $
;$ %
bool 
SaveChanges 
( 
) 
; 
} 
} ·Æ
WC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Services\CargaService.cs
	namespace 	
Armazenagem3L_API
 
. 
Services $
{% &
public 

class 
CargaService 
{ 
private 
readonly 
ICargaRepository )
_repository* 5
;5 6
private 
readonly 
ILoggerManager '
_logger( /
;/ 0
private 
readonly 
IProdutosRepository ,
_produto- 5
;5 6
private 
readonly  
IMotoristaRepository -

_motorista. 8
;8 9
public 
CargaService 
( 
ICargaRepository ,
carga- 2
,2 3
IProdutosRepository4 G
produtoH O
,O P 
IMotoristaRepositoryQ e
	motoristaf o
,o p
ILoggerManagerq 
logger
Ä Ü
)
Ü á
{
à â
_repository 
= 
carga 
;  
_produto 
= 
produto 
; 

_motorista 
= 
	motorista "
;" #
_logger 
= 
logger 
; 
} 	
public 
CustomResponse 
listagemCargas ,
(, -
)- .
{/ 0
_logger 
. 
LogDebug 
( 
$str S
)S T
;T U
try 
{ 
Carga   
[   
]   
result   
=    
_repository  ! ,
.  , -
	GetCargas  - 6
(  6 7
)  7 8
;  8 9
if"" 
("" 
result"" 
."" 
Length"" !
>""" #
$num""$ %
)""% &
{""' (
foreach## 
(## 
var##  
item##! %
in##& (
result##) /
)##/ 0
{##1 2
BuscaProdutos$$ %
($$% &
item$$& *
)$$* +
;$$+ ,
}%% 
}&& 
return(( 
new(( 
CustomResponse(( )
((() *
HttpStatusCode((* 8
.((8 9
OK((9 ;
,((; <
null((= A
,((A B
result((C I
)((I J
;((J K
})) 
catch)) 
()) 
ApiCustomException)) '
ex))( *
)))* +
{)), -
CustomHandler** 
RecuperaExcecao** -
=**. /
JsonSerializer**0 >
.**> ?
Deserialize**? J
<**J K
CustomHandler**K X
>**X Y
(**Y Z
ex**Z \
.**\ ]
Message**] d
)**d e
;**e f
return++ 
new++ 
CustomResponse++ )
(++) *
RecuperaExcecao++* 9
.++9 :

StatusCode++: D
,++D E
new++F I
CustomMessage++J W
(++W X
RecuperaExcecao++X g
.++g h
Nome++h l
,++l m
RecuperaExcecao++n }
.++} ~
	Descricao	++~ á
)
++á à
,
++à â
null
++ä é
)
++é è
;
++è ê
},, 
}.. 	
public00 
CustomResponse00 #
cargaByIdAndMotoristaId00 5
(005 6
int006 9
cargaId00: A
,00A B
int00C F
motoristaId00G R
)00R S
{00T U
_logger11 
.11 
LogDebug11 
(11 
$str11 e
+11f g
JsonSerializer11h v
.11v w
	Serialize	11w Ä
(
11Ä Å
cargaId
11Å à
)
11à â
+
11ä ã
$str
11å ô
+
11ö õ
JsonSerializer
11ú ™
.
11™ ´
	Serialize
11´ ¥
(
11¥ µ
motoristaId
11µ ¿
)
11¿ ¡
)
11¡ ¬
;
11¬ √
try33 
{33 
var44 
carga44 
=44 
_repository44 '
.44' (#
cargaByIdAndMotoristaId44( ?
(44? @
cargaId44@ G
,44G H
motoristaId44I T
)44T U
;44U V
if66 
(66 
carga66 
==66 
null66 !
)66! "
{66# $
CustomHandler77 !
h77" #
=77$ %
new77& )
CustomHandler77* 7
(777 8
HttpStatusCode778 F
.77F G
UnprocessableEntity77G Z
,77Z [
	Mensagens77\ e
.77e f
ERRO77f j
,77j k
	Mensagens77l u
.77u v!
CARGA_NAO_ENCONTRADA	77v ä
)
77ä ã
;
77ã å
throw88 
new88 
ApiCustomException88 0
(880 1
JsonSerializer881 ?
.88? @
	Serialize88@ I
(88I J
h88J K
)88K L
)88L M
;88M N
}99 
else99 
{99 
BuscaProdutos:: !
(::! "
carga::" '
)::' (
;::( )
};; 
return== 
new== 
CustomResponse== )
(==) *
HttpStatusCode==* 8
.==8 9
OK==9 ;
,==; <
null=== A
,==A B
carga==C H
)==H I
;==I J
}>> 
catch>> 
(>> 
ApiCustomException>> '
ex>>( *
)>>* +
{>>, -
CustomHandler?? 
RecuperaExcecao?? -
=??. /
JsonSerializer??0 >
.??> ?
Deserialize??? J
<??J K
CustomHandler??K X
>??X Y
(??Y Z
ex??Z \
.??\ ]
Message??] d
)??d e
;??e f
return@@ 
new@@ 
CustomResponse@@ )
(@@) *
RecuperaExcecao@@* 9
.@@9 :

StatusCode@@: D
,@@D E
new@@F I
CustomMessage@@J W
(@@W X
RecuperaExcecao@@X g
.@@g h
Nome@@h l
,@@l m
RecuperaExcecao@@n }
.@@} ~
	Descricao	@@~ á
)
@@á à
,
@@à â
null
@@ä é
)
@@é è
;
@@è ê
}AA 
}DD 	
publicFF 
CustomResponseFF 
cargaByMotoristaIdFF 0
(FF0 1
intFF1 4
idFF5 7
)FF7 8
{GG 	
_loggerHH 
.HH 
LogDebugHH 
(HH 
$strHH [
+HH\ ]
JsonSerializerHH^ l
.HHl m
	SerializeHHm v
(HHv w
idHHw y
)HHy z
)HHz {
;HH{ |
tryJJ 
{JJ 
CargaKK 
[KK 
]KK 
resultKK 
=KK  
_repositoryKK! ,
.KK, -
cargaByMotoristaIdKK- ?
(KK? @
idKK@ B
)KKB C
;KKC D
ifMM 
(MM 
resultMM 
.MM 
LengthMM !
>MM" #
$numMM$ %
)MM% &
{MM' (
foreachNN 
(NN 
varNN  
itemNN! %
inNN& (
resultNN) /
)NN/ 0
{NN1 2
BuscaProdutosOO %
(OO% &
itemOO& *
)OO* +
;OO+ ,
}PP 
}QQ 
elseQQ 
{QQ 
CustomHandlerRR !
hRR" #
=RR$ %
newRR& )
CustomHandlerRR* 7
(RR7 8
HttpStatusCodeRR8 F
.RRF G
UnprocessableEntityRRG Z
,RRZ [
	MensagensRR\ e
.RRe f
ERRORRf j
,RRj k
	MensagensRRl u
.RRu v!
CARGA_NAO_ENCONTRADA	RRv ä
)
RRä ã
;
RRã å
throwSS 
newSS 
ApiCustomExceptionSS 0
(SS0 1
JsonSerializerSS1 ?
.SS? @
	SerializeSS@ I
(SSI J
hSSJ K
)SSK L
)SSL M
;SSM N
}TT 
returnVV 
newVV 
CustomResponseVV )
(VV) *
HttpStatusCodeVV* 8
.VV8 9
OKVV9 ;
,VV; <
nullVV= A
,VVA B
resultVVC I
)VVI J
;VVJ K
}WW 
catchWW 
(WW 
ApiCustomExceptionWW '
exWW( *
)WW* +
{WW, -
CustomHandlerXX 
RecuperaExcecaoXX -
=XX. /
JsonSerializerXX0 >
.XX> ?
DeserializeXX? J
<XXJ K
CustomHandlerXXK X
>XXX Y
(XXY Z
exXXZ \
.XX\ ]
MessageXX] d
)XXd e
;XXe f
returnYY 
newYY 
CustomResponseYY )
(YY) *
RecuperaExcecaoYY* 9
.YY9 :

StatusCodeYY: D
,YYD E
newYYF I
CustomMessageYYJ W
(YYW X
RecuperaExcecaoYYX g
.YYg h
NomeYYh l
,YYl m
RecuperaExcecaoYYn }
.YY} ~
	Descricao	YY~ á
)
YYá à
,
YYà â
null
YYä é
)
YYé è
;
YYè ê
}ZZ 
}[[ 	
public]] 
CustomResponse]] 
	cargaById]] '
(]]' (
int]]( +
id]], .
)]]. /
{^^ 	
_logger__ 
.__ 
LogDebug__ 
(__ 
$str__ [
+__\ ]
JsonSerializer__^ l
.__l m
	Serialize__m v
(__v w
id__w y
)__y z
)__z {
;__{ |
tryaa 
{aa 
Cargabb 
cargabb 
=bb 
_repositorybb )
.bb) *
GetCargaByIdbb* 6
(bb6 7
idbb7 9
)bb9 :
;bb: ;
ifdd 
(dd 
cargadd 
==dd 
nulldd !
)dd! "
{dd# $
CustomHandleree !
hee" #
=ee$ %
newee& )
CustomHandleree* 7
(ee7 8
HttpStatusCodeee8 F
.eeF G
UnprocessableEntityeeG Z
,eeZ [
	Mensagensee\ e
.eee f
ERROeef j
,eej k
	Mensagenseel u
.eeu v!
CARGA_NAO_ENCONTRADA	eev ä
)
eeä ã
;
eeã å
throwff 
newff 
ApiCustomExceptionff 0
(ff0 1
JsonSerializerff1 ?
.ff? @
	Serializeff@ I
(ffI J
hffJ K
)ffK L
)ffL M
;ffM N
}gg 
elsegg 
{gg 
BuscaProdutoshh !
(hh! "
cargahh" '
)hh' (
;hh( )
}ii 
returnjj 
newjj 
CustomResponsejj )
(jj) *
HttpStatusCodejj* 8
.jj8 9
OKjj9 ;
,jj; <
nulljj= A
,jjA B
cargajjC H
)jjH I
;jjI J
}kk 
catchkk 
(kk 
ApiCustomExceptionkk '
exkk( *
)kk* +
{kk, -
CustomHandlerll 
RecuperaExcecaoll -
=ll. /
JsonSerializerll0 >
.ll> ?
Deserializell? J
<llJ K
CustomHandlerllK X
>llX Y
(llY Z
exllZ \
.ll\ ]
Messagell] d
)lld e
;lle f
returnmm 
newmm 
CustomResponsemm )
(mm) *
RecuperaExcecaomm* 9
.mm9 :

StatusCodemm: D
,mmD E
newmmF I
CustomMessagemmJ W
(mmW X
RecuperaExcecaommX g
.mmg h
Nomemmh l
,mml m
RecuperaExcecaommn }
.mm} ~
	Descricao	mm~ á
)
mmá à
,
mmà â
null
mmä é
)
mmé è
;
mmè ê
}nn 
}oo 	
publicqq 
CustomResponseqq 
Addqq !
(qq! "
Cargaqq" '
cargaqq( -
)qq- .
{qq/ 0
_loggerrr 
.rr 
LogDebugrr 
(rr 
$strrr O
+rrP Q
JsonSerializerrrR `
.rr` a
	Serializerra j
(rrj k
cargarrk p
)rrp q
)rrq r
;rrr s
	ArrayListss 
ProdutosAlteradosss '
=ss( )
newss* -
	ArrayListss. 7
(ss7 8
)ss8 9
;ss9 :
trytt 
{tt 
usinguu 
(uu 
varuu 
transactionuu &
=uu' (
newuu) ,
TransactionScopeuu- =
(uu= >
)uu> ?
)uu? @
{uuA B
_repositoryvv 
.vv  
Addvv  #
(vv# $
cargavv$ )
)vv) *
;vv* +
IEnumerablexx 
<xx  

ProdutoQtdxx  *
>xx* +
Idsxx, /
=xx0 1
cargaxx2 7
.xx7 8
Produtosxx8 @
;xx@ A
foreachzz 
(zz 
varzz  
itemzz! %
inzz& (
Idszz) ,
)zz, -
{zz. /
Produto{{ 
p{{  !
={{" #
_produto{{$ ,
.{{, -
GetProdutoById{{- ;
({{; <
item{{< @
.{{@ A
	ProdutoId{{A J
){{J K
;{{K L
if|| 
(|| 
p|| 
==||  
null||! %
)||% &
{||' (
CustomHandler}} )
h}}* +
=}}, -
new}}. 1
CustomHandler}}2 ?
(}}? @
HttpStatusCode}}@ N
.}}N O
UnprocessableEntity}}O b
,}}b c
	Mensagens}}d m
.}}m n
ERRO}}n r
,}}r s
	Mensagens}}t }
.}}} ~
ERRO_BUSCA_PRODUTO	}}~ ê
)
}}ê ë
;
}}ë í
throw~~ !
new~~" %
ApiCustomException~~& 8
(~~8 9
JsonSerializer~~9 G
.~~G H
	Serialize~~H Q
(~~Q R
h~~R S
)~~S T
)~~T U
;~~U V
} 
else 
{  
if
ÄÄ 
(
ÄÄ  
item
ÄÄ  $
.
ÄÄ$ %
Qtd
ÄÄ% (
>
ÄÄ) *
p
ÄÄ+ ,
.
ÄÄ, -
Qtd
ÄÄ- 0
)
ÄÄ0 1
{
ÄÄ2 3
CustomHandler
ÅÅ  -
h
ÅÅ. /
=
ÅÅ0 1
new
ÅÅ2 5
CustomHandler
ÅÅ6 C
(
ÅÅC D
HttpStatusCode
ÅÅD R
.
ÅÅR S!
UnprocessableEntity
ÅÅS f
,
ÅÅf g
	Mensagens
ÅÅh q
.
ÅÅq r
ERRO
ÅÅr v
,
ÅÅv w
	MensagensÅÅx Å
.ÅÅÅ Ç!
ERRO_SALVAR_CARGAÅÅÇ ì
)ÅÅì î
;ÅÅî ï
throw
ÇÇ  %
new
ÇÇ& ) 
ApiCustomException
ÇÇ* <
(
ÇÇ< =
JsonSerializer
ÇÇ= K
.
ÇÇK L
	Serialize
ÇÇL U
(
ÇÇU V
h
ÇÇV W
)
ÇÇW X
)
ÇÇX Y
;
ÇÇY Z
}
ÉÉ 
else
ÉÉ "
{
ÉÉ# $
p
ÑÑ  !
.
ÑÑ! "
Qtd
ÑÑ" %
-=
ÑÑ& (
item
ÑÑ) -
.
ÑÑ- .
Qtd
ÑÑ. 1
;
ÑÑ1 2
ProdutosAlterados
ÖÖ  1
.
ÖÖ1 2
Add
ÖÖ2 5
(
ÖÖ5 6
p
ÖÖ6 7
)
ÖÖ7 8
;
ÖÖ8 9
}
ÜÜ 
}
áá 
}
ââ 
if
ãã 
(
ãã 
_repository
ãã #
.
ãã# $
SaveChanges
ãã$ /
(
ãã/ 0
)
ãã0 1
)
ãã1 2
{
ãã3 4
AtualizaProdutos
åå (
(
åå( )
ProdutosAlterados
åå) :
)
åå: ;
;
åå; <!
InsereCargaProdutos
çç +
(
çç+ ,
carga
çç, 1
.
çç1 2
Produtos
çç2 :
,
çç: ;
_repository
çç< G
.
ççG H
GetLast
ççH O
(
ççO P
)
ççP Q
.
ççQ R
Id
ççR T
)
ççT U
;
ççU V
transaction
éé #
.
éé# $
Complete
éé$ ,
(
éé, -
)
éé- .
;
éé. /
}
èè 
else
èè 
{
èè 
transaction
êê #
.
êê# $
Dispose
êê$ +
(
êê+ ,
)
êê, -
;
êê- .
CustomHandler
ëë %
h
ëë& '
=
ëë( )
new
ëë* -
CustomHandler
ëë. ;
(
ëë; <
HttpStatusCode
ëë< J
.
ëëJ K!
UnprocessableEntity
ëëK ^
,
ëë^ _
	Mensagens
ëë` i
.
ëëi j
ERRO
ëëj n
,
ëën o
	Mensagens
ëëp y
.
ëëy z
CARGA_ADD_FALHAëëz â
)ëëâ ä
;ëëä ã
throw
íí 
new
íí ! 
ApiCustomException
íí" 4
(
íí4 5
JsonSerializer
íí5 C
.
ííC D
	Serialize
ííD M
(
ííM N
h
ííN O
)
ííO P
)
ííP Q
;
ííQ R
}
ìì 
}
ïï 
return
óó 
new
óó 
CustomResponse
óó )
(
óó) *
HttpStatusCode
óó* 8
.
óó8 9
OK
óó9 ;
,
óó; <
new
óó= @
CustomMessage
óóA N
(
óóN O
	Mensagens
óóO X
.
óóX Y
SUCESSO
óóY `
,
óó` a
	Mensagens
óób k
.
óók l
CARGA_ADD_SUCESSO
óól }
)
óó} ~
,
óó~ 
nullóóÄ Ñ
)óóÑ Ö
;óóÖ Ü
}
òò 
catch
òò 
(
òò  
ApiCustomException
òò '
ex
òò( *
)
òò* +
{
òò, -
_logger
ôô 
.
ôô 
LogDebug
ôô  
(
ôô  !
$str
ôô! T
+
ôôU V
JsonSerializer
ôôW e
.
ôôe f
	Serialize
ôôf o
(
ôôo p
ex
ôôp r
.
ôôr s
InnerExceptionôôs Å
)ôôÅ Ç
)ôôÇ É
;ôôÉ Ñ
CustomHandler
öö 
RecuperaExcecao
öö -
=
öö. /
JsonSerializer
öö0 >
.
öö> ?
Deserialize
öö? J
<
ööJ K
CustomHandler
ööK X
>
ööX Y
(
ööY Z
ex
ööZ \
.
öö\ ]
Message
öö] d
)
ööd e
;
ööe f
return
õõ 
new
õõ 
CustomResponse
õõ )
(
õõ) *
RecuperaExcecao
õõ* 9
.
õõ9 :

StatusCode
õõ: D
,
õõD E
new
õõF I
CustomMessage
õõJ W
(
õõW X
RecuperaExcecao
õõX g
.
õõg h
Nome
õõh l
,
õõl m
RecuperaExcecao
õõn }
.
õõ} ~
	Descricaoõõ~ á
)õõá à
,õõà â
nullõõä é
)õõé è
;õõè ê
}
úú 
}
ùù 	
public
üü 
CustomResponse
üü 
AceitarCarga
üü *
(
üü* +
MotoristaCarga
üü+ 9
carga
üü: ?
)
üü? @
{
üüA B
_logger
†† 
.
†† 
LogDebug
†† 
(
†† 
$str
†† X
+
††Y Z
JsonSerializer
††[ i
.
††i j
	Serialize
††j s
(
††s t
carga
††t y
)
††y z
)
††z {
;
††{ |
try
¢¢ 
{
¢¢ 
var
££ 
CargaEscolhida
££ "
=
££# $
_repository
££% 0
.
££0 1
FindById
££1 9
(
££9 :
carga
££: ?
.
££? @
CargaId
££@ G
)
££G H
;
££H I
CargaEscolhida
•• 
.
•• 
MotoristaId
•• *
=
••+ ,
carga
••- 2
.
••2 3
MotoristaId
••3 >
;
••> ?
_repository
¶¶ 
.
¶¶ 
Update
¶¶ "
(
¶¶" #
CargaEscolhida
¶¶# 1
)
¶¶1 2
;
¶¶2 3
if
ßß 
(
ßß 
!
ßß 
_repository
ßß  
.
ßß  !
SaveChanges
ßß! ,
(
ßß, -
)
ßß- .
)
ßß. /
{
ßß0 1
CustomHandler
®® !
h
®®" #
=
®®$ %
new
®®& )
CustomHandler
®®* 7
(
®®7 8
HttpStatusCode
®®8 F
.
®®F G!
UnprocessableEntity
®®G Z
,
®®Z [
	Mensagens
®®\ e
.
®®e f
ERRO
®®f j
,
®®j k
	Mensagens
®®l u
.
®®u v 
CARGA_ACEITA_ERRO®®v á
)®®á à
;®®à â
throw
©© 
new
©©  
ApiCustomException
©© 0
(
©©0 1
JsonSerializer
©©1 ?
.
©©? @
	Serialize
©©@ I
(
©©I J
h
©©J K
)
©©K L
)
©©L M
;
©©M N
}
™™ 
return
´´ 
new
´´ 
CustomResponse
´´ )
(
´´) *
HttpStatusCode
´´* 8
.
´´8 9
OK
´´9 ;
,
´´; <
new
´´= @
CustomMessage
´´A N
(
´´N O
	Mensagens
´´O X
.
´´X Y
SUCESSO
´´Y `
,
´´` a
	Mensagens
´´b k
.
´´k l
CARGA_ACEITA
´´l x
)
´´x y
,
´´y z
null
´´{ 
)´´ Ä
;´´Ä Å
}
¨¨ 
catch
¨¨ 
(
¨¨  
ApiCustomException
¨¨ '
ex
¨¨( *
)
¨¨* +
{
¨¨, -
_logger
≠≠ 
.
≠≠ 
LogDebug
≠≠  
(
≠≠  !
$str
≠≠! ]
+
≠≠^ _
JsonSerializer
≠≠` n
.
≠≠n o
	Serialize
≠≠o x
(
≠≠x y
ex
≠≠y {
.
≠≠{ |
InnerException≠≠| ä
)≠≠ä ã
)≠≠ã å
;≠≠å ç
CustomHandler
ÆÆ 
RecuperaExcecao
ÆÆ -
=
ÆÆ. /
JsonSerializer
ÆÆ0 >
.
ÆÆ> ?
Deserialize
ÆÆ? J
<
ÆÆJ K
CustomHandler
ÆÆK X
>
ÆÆX Y
(
ÆÆY Z
ex
ÆÆZ \
.
ÆÆ\ ]
Message
ÆÆ] d
)
ÆÆd e
;
ÆÆe f
return
ØØ 
new
ØØ 
CustomResponse
ØØ )
(
ØØ) *
RecuperaExcecao
ØØ* 9
.
ØØ9 :

StatusCode
ØØ: D
,
ØØD E
new
ØØF I
CustomMessage
ØØJ W
(
ØØW X
RecuperaExcecao
ØØX g
.
ØØg h
Nome
ØØh l
,
ØØl m
RecuperaExcecao
ØØn }
.
ØØ} ~
	DescricaoØØ~ á
)ØØá à
,ØØà â
nullØØä é
)ØØé è
;ØØè ê
}
∞∞ 
}
±± 	
public
≥≥ 
CustomResponse
≥≥ 
RecusarCarga
≥≥ *
(
≥≥* +
MotoristaCarga
≥≥+ 9
carga
≥≥: ?
)
≥≥? @
{
≥≥A B
_logger
¥¥ 
.
¥¥ 
LogDebug
¥¥ 
(
¥¥ 
$str
¥¥ X
+
¥¥Y Z
JsonSerializer
¥¥[ i
.
¥¥i j
	Serialize
¥¥j s
(
¥¥s t
carga
¥¥t y
)
¥¥y z
)
¥¥z {
;
¥¥{ |
try
∂∂ 
{
∂∂ 
var
∑∑ 
CargaEscolhida
∑∑ "
=
∑∑# $
_repository
∑∑% 0
.
∑∑0 1
FindById
∑∑1 9
(
∑∑9 :
carga
∑∑: ?
.
∑∑? @
CargaId
∑∑@ G
)
∑∑G H
;
∑∑H I
var
∏∏  
MotoristaEscolhido
∏∏ &
=
∏∏' (

_motorista
∏∏) 3
.
∏∏3 4
FindById
∏∏4 <
(
∏∏< =
carga
∏∏= B
.
∏∏B C
MotoristaId
∏∏C N
)
∏∏N O
;
∏∏O P
if
∫∫ 
(
∫∫ 
CargaEscolhida
∫∫ "
==
∫∫# %
null
∫∫& *
)
∫∫* +
{
∫∫, -
CustomHandler
ªª !
h
ªª" #
=
ªª$ %
new
ªª& )
CustomHandler
ªª* 7
(
ªª7 8
HttpStatusCode
ªª8 F
.
ªªF G!
UnprocessableEntity
ªªG Z
,
ªªZ [
	Mensagens
ªª\ e
.
ªªe f
ERRO
ªªf j
,
ªªj k
	Mensagens
ªªl u
.
ªªu v#
CARGA_NAO_ENCONTRADAªªv ä
)ªªä ã
;ªªã å
throw
ºº 
new
ºº  
ApiCustomException
ºº 0
(
ºº0 1
JsonSerializer
ºº1 ?
.
ºº? @
	Serialize
ºº@ I
(
ººI J
h
ººJ K
)
ººK L
)
ººL M
;
ººM N
}
ΩΩ 
if
øø 
(
øø  
MotoristaEscolhido
øø &
==
øø' )
null
øø* .
)
øø. /
{
øø0 1
CustomHandler
¿¿ !
h
¿¿" #
=
¿¿$ %
new
¿¿& )
CustomHandler
¿¿* 7
(
¿¿7 8
HttpStatusCode
¿¿8 F
.
¿¿F G!
UnprocessableEntity
¿¿G Z
,
¿¿Z [
	Mensagens
¿¿\ e
.
¿¿e f
ERRO
¿¿f j
,
¿¿j k
	Mensagens
¿¿l u
.
¿¿u v'
MOTORISTA_NAO_ENCONTRADO¿¿v é
)¿¿é è
;¿¿è ê
throw
¡¡ 
new
¡¡  
ApiCustomException
¡¡ 0
(
¡¡0 1
JsonSerializer
¡¡1 ?
.
¡¡? @
	Serialize
¡¡@ I
(
¡¡I J
h
¡¡J K
)
¡¡K L
)
¡¡L M
;
¡¡M N
}
¬¬ 
CargasRecusada
ƒƒ 
newCR
ƒƒ $
=
ƒƒ% &
new
ƒƒ' *
CargasRecusada
ƒƒ+ 9
(
ƒƒ9 :
CargaEscolhida
ƒƒ: H
.
ƒƒH I
Id
ƒƒI K
,
ƒƒK L 
MotoristaEscolhido
ƒƒM _
.
ƒƒ_ `
Id
ƒƒ` b
)
ƒƒb c
;
ƒƒc d
_repository
≈≈ 
.
≈≈ 
AddCargaRecusada
≈≈ ,
(
≈≈, -
newCR
≈≈- 2
)
≈≈2 3
;
≈≈3 4
if
∆∆ 
(
∆∆ 
!
∆∆ 
_repository
∆∆  
.
∆∆  !
SaveChanges
∆∆! ,
(
∆∆, -
)
∆∆- .
)
∆∆. /
{
∆∆0 1
CustomHandler
«« !
h
««" #
=
««$ %
new
««& )
CustomHandler
««* 7
(
««7 8
HttpStatusCode
««8 F
.
««F G!
UnprocessableEntity
««G Z
,
««Z [
	Mensagens
««\ e
.
««e f
ERRO
««f j
,
««j k
	Mensagens
««l u
.
««u v 
CARGA_RECUSA_ERRO««v á
)««á à
;««à â
throw
»» 
new
»»  
ApiCustomException
»» 0
(
»»0 1
JsonSerializer
»»1 ?
.
»»? @
	Serialize
»»@ I
(
»»I J
h
»»J K
)
»»K L
)
»»L M
;
»»M N
}
…… 
return
   
new
   
CustomResponse
   )
(
  ) *
HttpStatusCode
  * 8
.
  8 9
OK
  9 ;
,
  ; <
new
  = @
CustomMessage
  A N
(
  N O
	Mensagens
  O X
.
  X Y
SUCESSO
  Y `
,
  ` a
	Mensagens
  b k
.
  k l
RECUSA_ACEITA
  l y
)
  y z
,
  z {
null  | Ä
)  Ä Å
;  Å Ç
}
ÀÀ 
catch
ÀÀ 
(
ÀÀ  
ApiCustomException
ÀÀ '
ex
ÀÀ( *
)
ÀÀ* +
{
ÀÀ, -
_logger
ÃÃ 
.
ÃÃ 
LogDebug
ÃÃ  
(
ÃÃ  !
$str
ÃÃ! ]
+
ÃÃ^ _
JsonSerializer
ÃÃ` n
.
ÃÃn o
	Serialize
ÃÃo x
(
ÃÃx y
ex
ÃÃy {
.
ÃÃ{ |
InnerExceptionÃÃ| ä
)ÃÃä ã
)ÃÃã å
;ÃÃå ç
CustomHandler
ÕÕ 
RecuperaExcecao
ÕÕ -
=
ÕÕ. /
JsonSerializer
ÕÕ0 >
.
ÕÕ> ?
Deserialize
ÕÕ? J
<
ÕÕJ K
CustomHandler
ÕÕK X
>
ÕÕX Y
(
ÕÕY Z
ex
ÕÕZ \
.
ÕÕ\ ]
Message
ÕÕ] d
)
ÕÕd e
;
ÕÕe f
return
ŒŒ 
new
ŒŒ 
CustomResponse
ŒŒ )
(
ŒŒ) *
RecuperaExcecao
ŒŒ* 9
.
ŒŒ9 :

StatusCode
ŒŒ: D
,
ŒŒD E
new
ŒŒF I
CustomMessage
ŒŒJ W
(
ŒŒW X
RecuperaExcecao
ŒŒX g
.
ŒŒg h
Nome
ŒŒh l
,
ŒŒl m
RecuperaExcecao
ŒŒn }
.
ŒŒ} ~
	DescricaoŒŒ~ á
)ŒŒá à
,ŒŒà â
nullŒŒä é
)ŒŒé è
;ŒŒè ê
}
œœ 
}
–– 	
public
““ 
CustomResponse
““ 
cargasRecusadas
““ -
(
““- .
int
““. 1
id
““2 4
)
““4 5
{
““6 7
_logger
”” 
.
”” 
LogDebug
”” 
(
”” 
$str
”” U
+
””V W
JsonSerializer
””X f
.
””f g
	Serialize
””g p
(
””p q
id
””q s
)
””s t
)
””t u
;
””u v
try
’’ 
{
’’ 
var
÷÷ 
result
÷÷ 
=
÷÷ 
_repository
÷÷ (
.
÷÷( )!
FindCargasRecusadas
÷÷) <
(
÷÷< =
id
÷÷= ?
)
÷÷? @
;
÷÷@ A
return
ÿÿ 
new
ÿÿ 
CustomResponse
ÿÿ )
(
ÿÿ) *
HttpStatusCode
ÿÿ* 8
.
ÿÿ8 9
OK
ÿÿ9 ;
,
ÿÿ; <
null
ÿÿ= A
,
ÿÿA B
result
ÿÿC I
)
ÿÿI J
;
ÿÿJ K
}
ŸŸ 
catch
ŸŸ 
(
ŸŸ  
ApiCustomException
ŸŸ '
ex
ŸŸ( *
)
ŸŸ* +
{
ŸŸ, -
CustomHandler
⁄⁄ 
RecuperaExcecao
⁄⁄ -
=
⁄⁄. /
JsonSerializer
⁄⁄0 >
.
⁄⁄> ?
Deserialize
⁄⁄? J
<
⁄⁄J K
CustomHandler
⁄⁄K X
>
⁄⁄X Y
(
⁄⁄Y Z
ex
⁄⁄Z \
.
⁄⁄\ ]
Message
⁄⁄] d
)
⁄⁄d e
;
⁄⁄e f
return
€€ 
new
€€ 
CustomResponse
€€ )
(
€€) *
RecuperaExcecao
€€* 9
.
€€9 :

StatusCode
€€: D
,
€€D E
new
€€F I
CustomMessage
€€J W
(
€€W X
RecuperaExcecao
€€X g
.
€€g h
Nome
€€h l
,
€€l m
RecuperaExcecao
€€n }
.
€€} ~
	Descricao€€~ á
)€€á à
,€€à â
null€€ä é
)€€é è
;€€è ê
}
‹‹ 
}
›› 	
public
ﬂﬂ 
CustomResponse
ﬂﬂ 
DeletarCarga
ﬂﬂ *
(
ﬂﬂ* +
int
ﬂﬂ+ .
id
ﬂﬂ/ 1
)
ﬂﬂ1 2
{
‡‡ 	
_logger
·· 
.
·· 
LogDebug
·· 
(
·· 
$str
·· R
+
··S T
JsonSerializer
··U c
.
··c d
	Serialize
··d m
(
··m n
id
··n p
)
··p q
)
··q r
;
··r s
try
‚‚ 
{
‚‚ 
Carga
„„ 
carga
„„ 
=
„„ 
_repository
„„ )
.
„„) *
FindById
„„* 2
(
„„2 3
id
„„3 5
)
„„5 6
;
„„6 7
if
‰‰ 
(
‰‰ 
carga
‰‰ 
==
‰‰ 
null
‰‰ !
)
‰‰! "
{
‰‰# $
CustomHandler
ÂÂ !
handler
ÂÂ" )
=
ÂÂ* +
new
ÂÂ, /
CustomHandler
ÂÂ0 =
(
ÂÂ= >
HttpStatusCode
ÂÂ> L
.
ÂÂL M!
UnprocessableEntity
ÂÂM `
,
ÂÂ` a
	Mensagens
ÂÂb k
.
ÂÂk l
ERRO
ÂÂl p
,
ÂÂp q
	Mensagens
ÂÂr {
.
ÂÂ{ |#
CARGA_NAO_ENCONTRADAÂÂ| ê
)ÂÂê ë
;ÂÂë í
throw
ÊÊ 
new
ÊÊ  
ApiCustomException
ÊÊ 0
(
ÊÊ0 1
JsonSerializer
ÊÊ1 ?
.
ÊÊ? @
	Serialize
ÊÊ@ I
(
ÊÊI J
handler
ÊÊJ Q
)
ÊÊQ R
)
ÊÊR S
;
ÊÊS T
}
ÁÁ 
else
ÁÁ 
{
ÁÁ 
var
ËË 
ListaCargas
ËË #
=
ËË$ %
_repository
ËË& 1
.
ËË1 2
FindCargaProdutos
ËË2 C
(
ËËC D
carga
ËËD I
.
ËËI J
Id
ËËJ L
)
ËËL M
;
ËËM N
foreach
ÈÈ 
(
ÈÈ 
var
ÈÈ  
item
ÈÈ! %
in
ÈÈ& (
ListaCargas
ÈÈ) 4
)
ÈÈ4 5
{
ÈÈ6 7
_repository
ÍÍ #
.
ÍÍ# $ 
DeleteCargaProduto
ÍÍ$ 6
(
ÍÍ6 7
item
ÍÍ7 ;
)
ÍÍ; <
;
ÍÍ< =
}
ÎÎ 
_repository
ÏÏ 
.
ÏÏ  
DeleteCarga
ÏÏ  +
(
ÏÏ+ ,
carga
ÏÏ, 1
)
ÏÏ1 2
;
ÏÏ2 3
}
ÌÌ 
if
ÔÔ 
(
ÔÔ 
_repository
ÔÔ 
.
ÔÔ  
SaveChanges
ÔÔ  +
(
ÔÔ+ ,
)
ÔÔ, -
)
ÔÔ- .
{
ÔÔ/ 0
return
 
new
 
CustomResponse
 -
(
- .
HttpStatusCode
. <
.
< =
OK
= ?
,
? @
new
A D
CustomMessage
E R
(
R S
	Mensagens
S \
.
\ ]
SUCESSO
] d
,
d e
	Mensagens
f o
.
o p
DELETAR_CARGA
p }
)
} ~
,
~ 
nullÄ Ñ
)Ñ Ö
;Ö Ü
}
ÒÒ 
CustomHandler
ÚÚ 
h
ÚÚ 
=
ÚÚ  !
new
ÚÚ" %
CustomHandler
ÚÚ& 3
(
ÚÚ3 4
HttpStatusCode
ÚÚ4 B
.
ÚÚB C!
UnprocessableEntity
ÚÚC V
,
ÚÚV W
	Mensagens
ÚÚX a
.
ÚÚa b
ERRO
ÚÚb f
,
ÚÚf g
	Mensagens
ÚÚh q
.
ÚÚq r!
ERRO_DELETAR_CARGAÚÚr Ñ
)ÚÚÑ Ö
;ÚÚÖ Ü
throw
ÛÛ 
new
ÛÛ  
ApiCustomException
ÛÛ ,
(
ÛÛ, -
JsonSerializer
ÛÛ- ;
.
ÛÛ; <
	Serialize
ÛÛ< E
(
ÛÛE F
h
ÛÛF G
)
ÛÛG H
)
ÛÛH I
;
ÛÛI J
}
ÙÙ 
catch
ÙÙ 
(
ÙÙ  
ApiCustomException
ÙÙ '
ex
ÙÙ( *
)
ÙÙ* +
{
ÙÙ, -
_logger
ıı 
.
ıı 
LogDebug
ıı  
(
ıı  !
$str
ıı! V
+
ııW X
JsonSerializer
ııY g
.
ııg h
	Serialize
ııh q
(
ııq r
ex
ıır t
.
ııt u
InnerExceptionııu É
)ııÉ Ñ
)ııÑ Ö
;ııÖ Ü
CustomHandler
ˆˆ 
RecuperaExcecao
ˆˆ -
=
ˆˆ. /
JsonSerializer
ˆˆ0 >
.
ˆˆ> ?
Deserialize
ˆˆ? J
<
ˆˆJ K
CustomHandler
ˆˆK X
>
ˆˆX Y
(
ˆˆY Z
ex
ˆˆZ \
.
ˆˆ\ ]
Message
ˆˆ] d
)
ˆˆd e
;
ˆˆe f
return
˜˜ 
new
˜˜ 
CustomResponse
˜˜ )
(
˜˜) *
RecuperaExcecao
˜˜* 9
.
˜˜9 :

StatusCode
˜˜: D
,
˜˜D E
new
˜˜F I
CustomMessage
˜˜J W
(
˜˜W X
RecuperaExcecao
˜˜X g
.
˜˜g h
Nome
˜˜h l
,
˜˜l m
RecuperaExcecao
˜˜n }
.
˜˜} ~
	Descricao˜˜~ á
)˜˜á à
,˜˜à â
null˜˜ä é
)˜˜é è
;˜˜è ê
}
¯¯ 
}
˘˘ 	
private
˚˚ 
void
˚˚ 
AtualizaProdutos
˚˚ %
(
˚˚% &
	ArrayList
˚˚& /
produtos
˚˚0 8
)
˚˚8 9
{
˚˚: ;
foreach
¸¸ 
(
¸¸ 
var
¸¸ 
item
¸¸ 
in
¸¸  
produtos
¸¸! )
)
¸¸) *
{
¸¸+ ,
_produto
˝˝ 
.
˝˝ 
Update
˝˝ 
(
˝˝  
(
˝˝  !
Produto
˝˝! (
)
˝˝( )
item
˝˝) -
)
˝˝- .
;
˝˝. /
}
˛˛ 
}
ˇˇ 	
private
ÅÅ 
void
ÅÅ !
InsereCargaProdutos
ÅÅ (
(
ÅÅ( )
IEnumerable
ÅÅ) 4
<
ÅÅ4 5

ProdutoQtd
ÅÅ5 ?
>
ÅÅ? @
produtos
ÅÅA I
,
ÅÅI J
int
ÅÅK N
id
ÅÅO Q
)
ÅÅQ R
{
ÅÅS T
foreach
ÇÇ 
(
ÇÇ 
var
ÇÇ 
item
ÇÇ 
in
ÇÇ  
produtos
ÇÇ! )
)
ÇÇ) *
{
ÇÇ+ ,
_repository
ÉÉ 
.
ÉÉ 
AddCargaProdutos
ÉÉ ,
(
ÉÉ, -
new
ÉÉ- 0
CargaProduto
ÉÉ1 =
(
ÉÉ= >
id
ÉÉ> @
,
ÉÉ@ A
item
ÉÉB F
.
ÉÉF G
	ProdutoId
ÉÉG P
,
ÉÉP Q
item
ÉÉR V
.
ÉÉV W
Qtd
ÉÉW Z
)
ÉÉZ [
)
ÉÉ[ \
;
ÉÉ\ ]
_repository
ÑÑ 
.
ÑÑ 
SaveChanges
ÑÑ '
(
ÑÑ' (
)
ÑÑ( )
;
ÑÑ) *
}
ÖÖ 
}
áá 	
private
ââ 
void
ââ 
BuscaProdutos
ââ "
(
ââ" #
Carga
ââ# (
carga
ââ) .
)
ââ. /
{
ââ0 1
carga
ãã 
.
ãã 
	Motorista
ãã 
=
ãã 

_motorista
ãã (
.
ãã( )
FindById
ãã) 1
(
ãã1 2
carga
ãã2 7
.
ãã7 8
MotoristaId
ãã8 C
)
ããC D
;
ããD E
var
åå 
cargaProduto
åå 
=
åå 
_repository
åå *
.
åå* +
FindCargaProdutos
åå+ <
(
åå< =
carga
åå= B
.
ååB C
Id
ååC E
)
ååE F
;
ååF G
List
çç 
<
çç 
ItemCargaProduto
çç !
>
çç! "
produtos
çç# +
=
çç, -
new
çç. 1
List
çç2 6
<
çç6 7
ItemCargaProduto
çç7 G
>
ççG H
(
ççH I
)
ççI J
;
ççJ K
foreach
éé 
(
éé 
var
éé 
item
éé 
in
éé  
cargaProduto
éé! -
)
éé- .
{
éé/ 0
ItemCargaProduto
èè  
itemCargaProduto
èè! 1
=
èè2 3
new
èè4 7
ItemCargaProduto
èè8 H
(
èèH I
)
èèI J
;
èèJ K
itemCargaProduto
ëë  
.
ëë  !
Produto
ëë! (
=
ëë) *
_produto
ëë+ 3
.
ëë3 4
GetProdutoById
ëë4 B
(
ëëB C
item
ëëC G
.
ëëG H
	ProdutoId
ëëH Q
)
ëëQ R
;
ëëR S
itemCargaProduto
íí  
.
íí  !

Quantidade
íí! +
=
íí, -
item
íí. 2
.
íí2 3
Qtd
íí3 6
;
íí6 7
produtos
îî 
.
îî 
Add
îî 
(
îî 
itemCargaProduto
îî -
)
îî- .
;
îî. /
}
ïï 
carga
óó 
.
óó 
ListaProdutos
óó 
=
óó  !
produtos
óó" *
;
óó* +
}
òò 	
}
öö 
}õõ Œv
[C:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Services\MotoristaService.cs
	namespace 	
Armazenagem3L_API
 
. 
Services $
{% &
public 

class 
MotoristaService !
{" #
private 
readonly  
IMotoristaRepository -
_repository. 9
;9 :
private 
readonly 
ILoggerManager '
_logger( /
;/ 0
public 
MotoristaService 
(   
IMotoristaRepository  4

repository5 ?
,? @
ILoggerManagerA O
loggerP V
)V W
{X Y
_repository 
= 

repository $
;$ %
_logger 
= 
logger 
; 
} 	
public 
CustomResponse 
Add !
(! "
	Motorista" +
	motorista, 5
)5 6
{7 8
_logger 
. 
LogDebug 
( 
$str S
+T U
JsonSerializerV d
.d e
	Serializee n
(n o
	motoristao x
)x y
)y z
;z {
try 
{ 
var 
motoristaAux  
=! "
_repository# .
.. /
FindByEmail/ :
(: ;
	motorista; D
.D E
EmailE J
)J K
;K L
if 
( 
motoristaAux  
!=! #
null$ (
)( )
{* +
CustomHandler !
handler" )
=* +
new, /
CustomHandler0 =
(= >
HttpStatusCode> L
.L M
UnprocessableEntityM `
,` a
	Mensagensb k
.k l
ERROl p
,p q
	Mensagensr {
.{ |

ERRO_EMAIL	| Ü
)
Ü á
;
á à
throw   
new   
ApiCustomException   0
(  0 1
JsonSerializer  1 ?
.  ? @
	Serialize  @ I
(  I J
handler  J Q
)  Q R
)  R S
;  S T
}!! 
motoristaAux## 
=## 
_repository## *
.##* +
FindByLogin##+ 6
(##6 7
	motorista##7 @
.##@ A
Login##A F
)##F G
;##G H
if%% 
(%% 
motoristaAux%%  
!=%%! #
null%%$ (
)%%( )
{%%* +
CustomHandler&& !
handler&&" )
=&&* +
new&&, /
CustomHandler&&0 =
(&&= >
HttpStatusCode&&> L
.&&L M
UnprocessableEntity&&M `
,&&` a
	Mensagens&&b k
.&&k l
ERRO&&l p
,&&p q
	Mensagens&&r {
.&&{ |

ERRO_LOGIN	&&| Ü
)
&&Ü á
;
&&á à
throw'' 
new'' 
ApiCustomException'' 0
(''0 1
JsonSerializer''1 ?
.''? @
	Serialize''@ I
(''I J
handler''J Q
)''Q R
)''R S
;''S T
}(( 
_repository** 
.** 
Add** 
(**  
	motorista**  )
)**) *
;*** +
if++ 
(++ 
!++ 
_repository++  
.++  !
SaveChanges++! ,
(++, -
)++- .
)++. /
{++0 1
CustomHandler,, !
handler,," )
=,,* +
new,,, /
CustomHandler,,0 =
(,,= >
HttpStatusCode,,> L
.,,L M
UnprocessableEntity,,M `
,,,` a
	Mensagens,,b k
.,,k l
ERRO,,l p
,,,p q
	Mensagens,,r {
.,,{ |

ERRO_GERAL	,,| Ü
)
,,Ü á
;
,,á à
throw-- 
new-- 
ApiCustomException-- 0
(--0 1
JsonSerializer--1 ?
.--? @
	Serialize--@ I
(--I J
handler--J Q
)--Q R
)--R S
;--S T
}.. 
return// 
new// 
CustomResponse// )
(//) *
HttpStatusCode//* 8
.//8 9
OK//9 ;
,//; <
new//= @
CustomMessage//A N
(//N O
	Mensagens//O X
.//X Y
SUCESSO//Y `
,//` a
	Mensagens//b k
.//k l"
MOTORISTA_ADD_SUCESSO	//l Å
)
//Å Ç
,
//Ç É
null
//Ñ à
)
//à â
;
//â ä
}00 
catch00 
(00 
ApiCustomException00 '
ex00( *
)00* +
{00, -
_logger11 
.11 
LogDebug11  
(11  !
$str11! X
+11Y Z
JsonSerializer11[ i
.11i j
	Serialize11j s
(11s t
ex11t v
.11v w
InnerException	11w Ö
)
11Ö Ü
)
11Ü á
;
11á à
CustomHandler22 
RecuperaExcecao22 -
=22. /
JsonSerializer220 >
.22> ?
Deserialize22? J
<22J K
CustomHandler22K X
>22X Y
(22Y Z
ex22Z \
.22\ ]
Message22] d
)22d e
;22e f
return33 
new33 
CustomResponse33 )
(33) *
RecuperaExcecao33* 9
.339 :

StatusCode33: D
,33D E
new33F I
CustomMessage33J W
(33W X
RecuperaExcecao33X g
.33g h
Nome33h l
,33l m
RecuperaExcecao33n }
.33} ~
	Descricao	33~ á
)
33á à
,
33à â
null
33ä é
)
33é è
;
33è ê
}44 
}55 	
public77 
CustomResponse77 
RecuperarSenha77 ,
(77, -
DadosMotorista77- ;
value77< A
)77A B
{77C D
_logger88 
.88 
LogDebug88 
(88 
$str88 U
+88V W
JsonSerializer88X f
.88f g
	Serialize88g p
(88p q
value88q v
)88v w
)88w x
;88x y
try:: 
{:: 
	Motorista;; 
	motorista;; #
=;;$ %
_repository;;& 1
.;;1 2
FindByEmail;;2 =
(;;= >
value;;> C
.;;C D
Email;;D I
);;I J
;;;J K
if== 
(== 
	motorista== 
====  
null==! %
)==% &
{==' (
CustomHandler>> !
h>>" #
=>>$ %
new>>& )
CustomHandler>>* 7
(>>7 8
HttpStatusCode>>8 F
.>>F G
UnprocessableEntity>>G Z
,>>Z [
	Mensagens>>\ e
.>>e f
ERRO>>f j
,>>j k
	Mensagens>>l u
.>>u v%
MOTORISTA_NAO_ENCONTRADO	>>v é
)
>>é è
;
>>è ê
throw?? 
new?? 
ApiCustomException?? 0
(??0 1
JsonSerializer??1 ?
.??? @
	Serialize??@ I
(??I J
h??J K
)??K L
)??L M
;??M N
}@@ 
	motoristaBB 
.BB 
SenhaBB 
=BB  !
valueBB" '
.BB' (
senhaBB( -
;BB- .
_repositoryCC 
.CC 
UpdateCC "
(CC" #
	motoristaCC# ,
)CC, -
;CC- .
ifEE 
(EE 
!EE 
_repositoryEE  
.EE  !
SaveChangesEE! ,
(EE, -
)EE- .
)EE. /
{EE0 1
CustomHandlerFF !
handlerFF" )
=FF* +
newFF, /
CustomHandlerFF0 =
(FF= >
HttpStatusCodeFF> L
.FFL M
UnprocessableEntityFFM `
,FF` a
	MensagensFFb k
.FFk l
ERROFFl p
,FFp q
	MensagensFFr {
.FF{ |

ERRO_GERAL	FF| Ü
)
FFÜ á
;
FFá à
throwGG 
newGG 
ApiCustomExceptionGG 0
(GG0 1
JsonSerializerGG1 ?
.GG? @
	SerializeGG@ I
(GGI J
handlerGGJ Q
)GGQ R
)GGR S
;GGS T
}HH 
returnJJ 
newJJ 
CustomResponseJJ )
(JJ) *
HttpStatusCodeJJ* 8
.JJ8 9
OKJJ9 ;
,JJ; <
newJJ= @
CustomMessageJJA N
(JJN O
	MensagensJJO X
.JJX Y
SUCESSOJJY `
,JJ` a
	MensagensJJb k
.JJk l
SENHA_ATT_SUCESSOJJl }
)JJ} ~
,JJ~ 
null
JJÄ Ñ
)
JJÑ Ö
;
JJÖ Ü
}KK 
catchKK 
(KK 
ApiCustomExceptionKK '
exKK( *
)KK* +
{KK, -
CustomHandlerLL 
RecuperaExcecaoLL -
=LL. /
JsonSerializerLL0 >
.LL> ?
DeserializeLL? J
<LLJ K
CustomHandlerLLK X
>LLX Y
(LLY Z
exLLZ \
.LL\ ]
MessageLL] d
)LLd e
;LLe f
returnMM 
newMM 
CustomResponseMM )
(MM) *
RecuperaExcecaoMM* 9
.MM9 :

StatusCodeMM: D
,MMD E
newMMF I
CustomMessageMMJ W
(MMW X
RecuperaExcecaoMMX g
.MMg h
NomeMMh l
,MMl m
RecuperaExcecaoMMn }
.MM} ~
	Descricao	MM~ á
)
MMá à
,
MMà â
null
MMä é
)
MMé è
;
MMè ê
}NN 
}OO 	
publicQQ 
CustomResponseQQ 
loginQQ #
(QQ# $
DadosMotoristaQQ$ 2
valueQQ3 8
)QQ8 9
{QQ: ;
_loggerRR 
.RR 
LogDebugRR 
(RR 
$strRR L
+RRM N
JsonSerializerRRO ]
.RR] ^
	SerializeRR^ g
(RRg h
valueRRh m
)RRm n
)RRn o
;RRo p
tryTT 
{TT 
	MotoristaUU 
	motoristaUU #
=UU$ %
_repositoryUU& 1
.UU1 2
FindByLoginUU2 =
(UU= >
valueUU> C
.UUC D
LoginUUD I
)UUI J
;UUJ K
ifWW 
(WW 
	motoristaWW 
==WW  
nullWW! %
)WW% &
{WW' (
CustomHandlerXX !
hXX" #
=XX$ %
newXX& )
CustomHandlerXX* 7
(XX7 8
HttpStatusCodeXX8 F
.XXF G
UnprocessableEntityXXG Z
,XXZ [
	MensagensXX\ e
.XXe f
ERROXXf j
,XXj k
	MensagensXXl u
.XXu v%
MOTORISTA_NAO_ENCONTRADO	XXv é
)
XXé è
;
XXè ê
throwYY 
newYY 
ApiCustomExceptionYY 0
(YY0 1
JsonSerializerYY1 ?
.YY? @
	SerializeYY@ I
(YYI J
hYYJ K
)YYK L
)YYL M
;YYM N
}ZZ 
if\\ 
(\\ 
value\\ 
.\\ 
senha\\ 
==\\ !
	motorista\\" +
.\\+ ,
Senha\\, 1
)\\1 2
{\\3 4
return]] 
new]] 
CustomResponse]] -
(]]- .
HttpStatusCode]]. <
.]]< =
OK]]= ?
,]]? @
null]]A E
,]]E F
true]]G K
)]]K L
;]]L M
}^^ 
return`` 
new`` 
CustomResponse`` )
(``) *
HttpStatusCode``* 8
.``8 9
OK``9 ;
,``; <
null``= A
,``A B
false``C H
)``H I
;``I J
}aa 
catchaa 
(aa 
ApiCustomExceptionaa '
exaa( *
)aa* +
{aa, -
CustomHandlerbb 
RecuperaExcecaobb -
=bb. /
JsonSerializerbb0 >
.bb> ?
Deserializebb? J
<bbJ K
CustomHandlerbbK X
>bbX Y
(bbY Z
exbbZ \
.bb\ ]
Messagebb] d
)bbd e
;bbe f
returncc 
newcc 
CustomResponsecc )
(cc) *
RecuperaExcecaocc* 9
.cc9 :

StatusCodecc: D
,ccD E
newccF I
CustomMessageccJ W
(ccW X
RecuperaExcecaoccX g
.ccg h
Nomecch l
,ccl m
RecuperaExcecaoccn }
.cc} ~
	Descricao	cc~ á
)
ccá à
,
ccà â
null
ccä é
)
ccé è
;
ccè ê
}dd 
}ee 	
publicgg 
CustomResponsegg 
FindByIdgg &
(gg& '
intgg' *
idgg+ -
)gg- .
{gg/ 0
_loggerhh 
.hh 
LogDebughh 
(hh 
$strhh Y
+hhZ [
JsonSerializerhh\ j
.hhj k
	Serializehhk t
(hht u
idhhu w
)hhw x
)hhx y
;hhy z
tryjj 
{jj 
	Motoristakk 
	motoristakk #
=kk$ %
_repositorykk& 1
.kk1 2
FindByIdkk2 :
(kk: ;
idkk; =
)kk= >
;kk> ?
ifmm 
(mm 
	motoristamm 
==mm  
nullmm! %
)mm% &
{mm' (
CustomHandlernn !
hnn" #
=nn$ %
newnn& )
CustomHandlernn* 7
(nn7 8
HttpStatusCodenn8 F
.nnF G
UnprocessableEntitynnG Z
,nnZ [
	Mensagensnn\ e
.nne f
ERROnnf j
,nnj k
	Mensagensnnl u
.nnu v%
MOTORISTA_NAO_ENCONTRADO	nnv é
)
nné è
;
nnè ê
throwoo 
newoo 
ApiCustomExceptionoo 0
(oo0 1
JsonSerializeroo1 ?
.oo? @
	Serializeoo@ I
(ooI J
hooJ K
)ooK L
)ooL M
;ooM N
}pp 
returnrr 
newrr 
CustomResponserr )
(rr) *
HttpStatusCoderr* 8
.rr8 9
OKrr9 ;
,rr; <
nullrr= A
,rrA B
	motoristarrC L
)rrL M
;rrM N
}ss 
catchss 
(ss 
ApiCustomExceptionss '
exss( *
)ss* +
{ss, -
CustomHandlertt 
RecuperaExcecaott -
=tt. /
JsonSerializertt0 >
.tt> ?
Deserializett? J
<ttJ K
CustomHandlerttK X
>ttX Y
(ttY Z
exttZ \
.tt\ ]
Messagett] d
)ttd e
;tte f
returnuu 
newuu 
CustomResponseuu )
(uu) *
RecuperaExcecaouu* 9
.uu9 :

StatusCodeuu: D
,uuD E
newuuF I
CustomMessageuuJ W
(uuW X
RecuperaExcecaouuX g
.uug h
Nomeuuh l
,uul m
RecuperaExcecaouun }
.uu} ~
	Descricao	uu~ á
)
uuá à
,
uuà â
null
uuä é
)
uué è
;
uuè ê
}vv 
}ww 	
}yy 
}zz ÆI
ZC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Services\ProdutosService.cs
	namespace 	
Armazenagem3L_API
 
. 
Services $
{% &
public 

class 
ProdutosService  
{! "
private 
readonly 
IProdutosRepository ,
_repository- 8
;8 9
private 
readonly 
ILoggerManager '
_logger( /
;/ 0
public 
ProdutosService 
( 
IProdutosRepository 2

repository3 =
,= >
ILoggerManager? M
loggerN T
)T U
{V W
_repository 
= 

repository $
;$ %
_logger 
= 
logger 
; 
} 	
public 
CustomResponse 
listagemProdutos .
(. /
)/ 0
{1 2
_logger 
. 
LogDebug 
( 
$str S
)S T
;T U
Produto 
[ 
] 
result 
= 
_repository *
.* +
GetProdutos+ 6
(6 7
)7 8
;8 9
return 
new 
CustomResponse %
(% &
HttpStatusCode& 4
.4 5
OK5 7
,7 8
null9 =
,= >
result? E
)E F
;F G
} 	
public 
CustomResponse 
produtosById *
(* +
int+ .
id/ 1
)1 2
{3 4
_logger   
.   
LogDebug   
(   
$str   [
+  \ ]
JsonSerializer  ^ l
.  l m
	Serialize  m v
(  v w
id  w y
)  y z
)  z {
;  { |
Produto"" 
result"" 
="" 
_repository"" (
.""( )
GetProdutoById"") 7
(""7 8
id""8 :
)"": ;
;""; <
return$$ 
new$$ 
CustomResponse$$ %
($$% &
HttpStatusCode$$& 4
.$$4 5
OK$$5 7
,$$7 8
null$$9 =
,$$= >
result$$? E
)$$E F
;$$F G
}%% 	
public'' 
CustomResponse'' 
Add'' !
(''! "
Produto''" )
produto''* 1
)''1 2
{''3 4
_logger(( 
.(( 
LogDebug(( 
((( 
$str(( Q
+((R S
JsonSerializer((T b
.((b c
	Serialize((c l
(((l m
produto((m t
)((t u
)((u v
;((v w
try)) 
{)) 
_repository** 
.** 
Add** 
(**  
produto**  '
)**' (
;**( )
if++ 
(++ 
!++ 
_repository++  
.++  !
SaveChanges++! ,
(++, -
)++- .
)++. /
{++0 1
CustomHandler,, !
handler,," )
=,,* +
new,,, /
CustomHandler,,0 =
(,,= >
HttpStatusCode,,> L
.,,L M
UnprocessableEntity,,M `
,,,` a
	Mensagens,,b k
.,,k l
ERRO,,l p
,,,p q
	Mensagens,,r {
.,,{ |

ERRO_GERAL	,,| Ü
)
,,Ü á
;
,,á à
throw-- 
new-- 
ApiCustomException-- 0
(--0 1
JsonSerializer--1 ?
.--? @
	Serialize--@ I
(--I J
handler--J Q
)--Q R
)--R S
;--S T
}.. 
return// 
new// 
CustomResponse// )
(//) *
HttpStatusCode//* 8
.//8 9
OK//9 ;
,//; <
new//= @
CustomMessage//A N
(//N O
	Mensagens//O X
.//X Y
SUCESSO//Y `
,//` a
	Mensagens//b k
.//k l
PRODUTO_ADD_SUCESSO//l 
)	// Ä
,
//Ä Å
null
//Ç Ü
)
//Ü á
;
//á à
}00 
catch00 
(00 
ApiCustomException00 '
ex00( *
)00* +
{00, -
_logger11 
.11 
LogDebug11  
(11  !
$str11! V
+11W X
JsonSerializer11Y g
.11g h
	Serialize11h q
(11q r
ex11r t
.11t u
InnerException	11u É
)
11É Ñ
)
11Ñ Ö
;
11Ö Ü
CustomHandler22 
RecuperaExcecao22 -
=22. /
JsonSerializer220 >
.22> ?
Deserialize22? J
<22J K
CustomHandler22K X
>22X Y
(22Y Z
ex22Z \
.22\ ]
Message22] d
)22d e
;22e f
return33 
new33 
CustomResponse33 )
(33) *
RecuperaExcecao33* 9
.339 :

StatusCode33: D
,33D E
new33F I
CustomMessage33J W
(33W X
RecuperaExcecao33X g
.33g h
Nome33h l
,33l m
RecuperaExcecao33n }
.33} ~
	Descricao	33~ á
)
33á à
,
33à â
null
33ä é
)
33é è
;
33è ê
}44 
}55 	
public77 
CustomResponse77 
DeletarProduto77 ,
(77, -
int77- 0
id771 3
)773 4
{775 6
_logger88 
.88 
LogDebug88 
(88 
$str88 U
+88V W
JsonSerializer88X f
.88f g
	Serialize88g p
(88p q
id88q s
)88s t
)88t u
;88u v
try99 
{99 
Produto:: 
produto:: 
=::  !
_repository::" -
.::- .
GetProdutoById::. <
(::< =
id::= ?
)::? @
;::@ A
if;; 
(;; 
produto;; 
==;; 
null;; #
);;# $
{;;% &
CustomHandler<< !
handler<<" )
=<<* +
new<<, /
CustomHandler<<0 =
(<<= >
HttpStatusCode<<> L
.<<L M
UnprocessableEntity<<M `
,<<` a
	Mensagens<<b k
.<<k l
ERRO<<l p
,<<p q
	Mensagens<<r {
.<<{ |#
PRODUTO_NAO_ENCONTRADO	<<| í
)
<<í ì
;
<<ì î
throw== 
new== 
ApiCustomException== 0
(==0 1
JsonSerializer==1 ?
.==? @
	Serialize==@ I
(==I J
handler==J Q
)==Q R
)==R S
;==S T
}>> 
_repository?? 
.?? 
Delete?? "
(??" #
produto??# *
)??* +
;??+ ,
if@@ 
(@@ 
!@@ 
_repository@@  
.@@  !
SaveChanges@@! ,
(@@, -
)@@- .
)@@. /
{@@0 1
CustomHandlerAA !
handlerAA" )
=AA* +
newAA, /
CustomHandlerAA0 =
(AA= >
HttpStatusCodeAA> L
.AAL M
UnprocessableEntityAAM `
,AA` a
	MensagensAAb k
.AAk l
ERROAAl p
,AAp q
	MensagensAAr {
.AA{ |!
ERRO_DELETAR_PRODUTO	AA| ê
)
AAê ë
;
AAë í
throwBB 
newBB 
ApiCustomExceptionBB 0
(BB0 1
JsonSerializerBB1 ?
.BB? @
	SerializeBB@ I
(BBI J
handlerBBJ Q
)BBQ R
)BBR S
;BBS T
}CC 
returnDD 
newDD 
CustomResponseDD )
(DD) *
HttpStatusCodeDD* 8
.DD8 9
OKDD9 ;
,DD; <
newDD= @
CustomMessageDDA N
(DDN O
	MensagensDDO X
.DDX Y
SUCESSODDY `
,DD` a
	MensagensDDb k
.DDk l
DELETAR_PRODUTODDl {
)DD{ |
,DD| }
null	DD~ Ç
)
DDÇ É
;
DDÉ Ñ
}EE 
catchEE 
(EE 
ApiCustomExceptionEE '
exEE( *
)EE* +
{EE, -
_loggerFF 
.FF 
LogDebugFF  
(FF  !
$strFF! V
+FFW X
JsonSerializerFFY g
.FFg h
	SerializeFFh q
(FFq r
exFFr t
.FFt u
InnerException	FFu É
)
FFÉ Ñ
)
FFÑ Ö
;
FFÖ Ü
CustomHandlerGG 
RecuperaExcecaoGG -
=GG. /
JsonSerializerGG0 >
.GG> ?
DeserializeGG? J
<GGJ K
CustomHandlerGGK X
>GGX Y
(GGY Z
exGGZ \
.GG\ ]
MessageGG] d
)GGd e
;GGe f
returnHH 
newHH 
CustomResponseHH )
(HH) *
RecuperaExcecaoHH* 9
.HH9 :

StatusCodeHH: D
,HHD E
newHHF I
CustomMessageHHJ W
(HHW X
RecuperaExcecaoHHX g
.HHg h
NomeHHh l
,HHl m
RecuperaExcecaoHHn }
.HH} ~
	Descricao	HH~ á
)
HHá à
,
HHà â
null
HHä é
)
HHé è
;
HHè ê
}II 
}JJ 	
}LL 
}MM ‘/
IC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Startup.cs
	namespace 	
Armazenagem3L_API
 
{ 
public 

class 
Startup 
{ 
public 
Startup 
( 
IConfiguration %
configuration& 3
)3 4
{5 6

LogManager 
. 
LoadConfiguration (
(( )
String) /
./ 0
Concat0 6
(6 7
	Directory7 @
.@ A
GetCurrentDirectoryA T
(T U
)U V
,V W
$strX f
)f g
)g h
;h i
Configuration 
= 
configuration )
;) *
} 	
public 
IConfiguration 
Configuration +
{, -
get. 1
;1 2
}3 4
public"" 
void"" 
ConfigureServices"" %
(""% &
IServiceCollection""& 8
services""9 A
)""A B
{""C D
services$$ 
.$$ 
AddCors$$ 
($$ 
options$$ $
=>$$% '
{%% 
options&& 
.&& 
	AddPolicy&& !
(&&! "
$str&&" .
,&&. /
builder&&0 7
=>&&8 :
builder&&; B
.'' 
AllowAnyOrigin'' #
(''# $
)''$ %
.(( 
AllowAnyMethod(( #
(((# $
)(($ %
.)) 
AllowAnyHeader)) #
())# $
)))$ %
)))% &
;))& '
}** 
)** 
;** 
services,, 
.,, 
	AddScoped,, 
<,,  
IMotoristaRepository,, 3
,,,3 4#
MotoristaRepositoryImpl,,5 L
>,,L M
(,,M N
),,N O
;,,O P
services-- 
.-- 
	AddScoped-- 
<-- 
MotoristaService-- /
,--/ 0
MotoristaService--1 A
>--A B
(--B C
)--C D
;--D E
services// 
.// 
	AddScoped// 
<// 
ICargaRepository// /
,/// 0
CargaRepositoryImpl//1 D
>//D E
(//E F
)//F G
;//G H
services00 
.00 
	AddScoped00 
<00 
CargaService00 +
,00+ ,
CargaService00- 9
>009 :
(00: ;
)00; <
;00< =
services22 
.22 
	AddScoped22 
<22 
IProdutosRepository22 2
,222 3"
ProdutosRepositoryImpl224 J
>22J K
(22K L
)22L M
;22M N
services33 
.33 
	AddScoped33 
<33 
ProdutosService33 .
,33. /
ProdutosService330 ?
>33? @
(33@ A
)33A B
;33B C
services55 
.55 
AddSingleton55 !
<55! "
ILoggerManager55" 0
,550 1
LoggerManager552 ?
>55? @
(55@ A
)55A B
;55B C
services77 
.77 
AddControllers77 #
(77# $
)77$ %
.77% &
AddNewtonsoftJson77& 7
(777 8
opt88 
=>88 
opt88 
.88 
SerializerSettings88 -
.88- .!
ReferenceLoopHandling88. C
=88D E

Newtonsoft88F P
.88P Q
Json88Q U
.88U V!
ReferenceLoopHandling88V k
.88k l
Ignore88l r
)88r s
;88s t
services99 
.99 
AddSwaggerGen99 "
(99" #
c99# $
=>99% '
{99( )
c:: 
.:: 

SwaggerDoc:: 
(:: 
$str:: !
,::! "
new::# &
OpenApiInfo::' 2
{::3 4
Title::5 :
=::; <
$str::= P
,::P Q
Version::R Y
=::Z [
$str::\ `
}::a b
)::b c
;::c d
};; 
);; 
;;; 
services<< 
.<< 
AddDbContext<< !
<<<! "
DataContext<<" -
><<- .
(<<. /
context== 
=>== 
context== "
.==" #
	UseNpgsql==# ,
(==, -
Configuration==- :
.==: ;
GetConnectionString==; N
(==N O
$str==O `
)==` a
)==a b
)>> 
;>> 
}?? 	
publicBB 
voidBB 
	ConfigureBB 
(BB 
IApplicationBuilderBB 1
appBB2 5
,BB5 6
IWebHostEnvironmentBB7 J
envBBK N
)BBN O
{BBP Q
ifCC 
(CC 
envCC 
.CC 
IsDevelopmentCC !
(CC! "
)CC" #
)CC# $
{CC% &
appDD 
.DD %
UseDeveloperExceptionPageDD -
(DD- .
)DD. /
;DD/ 0
appEE 
.EE 

UseSwaggerEE 
(EE 
)EE  
;EE  !
appFF 
.FF 
UseSwaggerUIFF  
(FF  !
cFF! "
=>FF# %
cFF& '
.FF' (
SwaggerEndpointFF( 7
(FF7 8
$strFF8 R
,FFR S
$strFFT j
)FFj k
)FFk l
;FFl m
}GG 
appII 
.II 

UseRoutingII 
(II 
)II 
;II 
appKK 
.KK 
UseCorsKK 
(KK 
$strKK $
)KK$ %
;KK% &
appMM 
.MM 
UseAuthorizationMM  
(MM  !
)MM! "
;MM" #
appOO 
.OO 
UseEndpointsOO 
(OO 
	endpointsOO &
=>OO' )
{OO* +
	endpointsPP 
.PP 
MapControllersPP (
(PP( )
)PP) *
;PP* +
}QQ 
)QQ 
;QQ 
}RR 	
}SS 
}TT ü

TC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Util\CustomMessage.cs
	namespace 	
Armazenagem3L_API
 
. 
Util  
{! "
public		 

class		 
CustomMessage		 
{		  
public

 
string

 
Nome

 
{

 
get

  
;

  !
set

" %
;

% &
}

' (
public 
string 
	Descricao 
{  !
get" %
;% &
set' *
;* +
}, -
public 
CustomMessage 
( 
string #
Nome$ (
,( )
string* 0
	Descricao1 :
): ;
{< =
this 
. 
Nome 
= 
Nome 
; 
this 
. 
	Descricao 
= 
	Descricao &
;& '
} 	
public 
override 
string 
ToString '
(' (
)( )
{* +
return 
JsonConvert 
. 
SerializeObject .
(. /
this/ 3
)3 4
;4 5
} 	
} 
} ˇ
UC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Util\CustomResponse.cs
	namespace 	
Armazenagem3L_API
 
. 
Util  
{! "
public		 

class		 
CustomResponse		 
{		  !
public 
HttpStatusCode 

StatusCode (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
CustomMessage 
Mensagem %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
Object 
Objeto 
{ 
get "
;" #
set$ '
;' (
}) *
public 
Object 
Retorno 
{ 
get  #
;# $
set% (
;( )
}* +
public 
CustomResponse 
( 
) 
{  !
} 	
public 
CustomResponse 
( 
HttpStatusCode ,

StatusCode- 7
,7 8
CustomMessage9 F
MensagemG O
,O P
ObjectQ W
ObjetoX ^
)^ _
{` a
this 
. 

StatusCode 
= 

StatusCode (
;( )
this 
. 
Mensagem 
= 
Mensagem $
;$ %
this 
. 
Objeto 
= 
Objeto  
;  !
if 
( 
this 
. 

StatusCode 
!= !
HttpStatusCode" 0
.0 1
OK1 3
)3 4
{5 6
this 
. 
Retorno 
= 
this #
.# $
Mensagem$ ,
;, -
} 
else 
{ 
this 
. 
Retorno 
= 
this #
.# $
Objeto$ *
;* +
} 
} 	
}!! 
}"" ˘
PC:\Users\DELL\source\repos\Armazenagem3L-API\Armazenagem3L-API\Util\Mensagens.cs
	namespace 	
Armazenagem3L_API
 
. 
Util  
{! "
public 

static 
class 
	Mensagens !
{" #
public 
const 
string 
SUCESSO #
=$ %
$str& /
;/ 0
public		 
const		 
string		 
ERRO		  
=		! "
$str		# )
;		) *
public

 
const

 
string

 
PRODUTO_ADD_SUCESSO

 /
=

0 1
$str

2 O
;

O P
public 
const 
string !
MOTORISTA_ADD_SUCESSO 1
=2 3
$str4 W
;W X
public 
const 
string 
SENHA_ATT_SUCESSO -
=. /
$str0 M
;M N
public 
const 
string 
CARGA_ADD_SUCESSO -
=. /
$str0 O
;O P
public 
const 
string 
CARGA_ADD_FALHA +
=, -
$str. U
;U V
public 
const 
string 
CARGA_ACEITA (
=) *
$str+ \
;\ ]
public 
const 
string 
RECUSA_ACEITA )
=* +
$str, \
;\ ]
public 
const 
string 
CARGA_ACEITA_ERRO -
=. /
$str0 a
;a b
public 
const 
string 
CARGA_RECUSA_ERRO -
=. /
$str0 `
;` a
public 
const 
string 

ERRO_EMAIL &
=' (
$str) k
;k l
public 
const 
string 

ERRO_LOGIN &
=' (
$str) k
;k l
public 
const 
string 

ERRO_GERAL &
=' (
$str) u
;u v
public 
const 
string 
ERRO_BUSCA_PRODUTO .
=/ 0
$str	1 Å
;
Å Ç
public 
const 
string 
ERRO_SALVAR_CARGA -
=. /
$str0 _
;_ `
public 
const 
string "
PRODUTO_NAO_ENCONTRADO 2
=3 4
$str5 M
;M N
public 
const 
string 
DELETAR_PRODUTO +
=, -
$str. L
;L M
public 
const 
string  
ERRO_DELETAR_PRODUTO 0
=1 2
$str3 W
;W X
public 
const 
string  
CARGA_NAO_ENCONTRADA 0
=1 2
$str3 I
;I J
public 
const 
string $
MOTORISTA_NAO_ENCONTRADO 4
=5 6
$str7 Q
;Q R
public 
const 
string 
ERRO_DELETAR_CARGA .
=/ 0
$str1 S
;S T
public 
const 
string 
DELETAR_CARGA )
=* +
$str, H
;H I
} 
}   